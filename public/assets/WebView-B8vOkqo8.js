import{j as e,g as f,u as U,b as W,a as Y}from"./BindToParentScroll-BMug_cer.js";import{c as G,S as X,H as y,r as u,L as k,R as V}from"./index-DV4fw0IH.js";import{g as K,E as Q}from"./EditorTopBar-BLMmEYVU.js";const Z={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},N=G(a=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${y}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var i,r;const t=(i=N.getState().stores)==null?void 0:i.list.find(d=>d.id==s);if(t)return a(()=>({selectedStore:t}));{const d=(r=await N.getState().fetchStores({text:"#"+s}))==null?void 0:r.list[0];if(d)return a(()=>({selectedStore:d}))}},async fetchStores(s){const t=N.getState().owner;if(!t)return;s.owner_id=t.id,console.log({filter:s});const i=new URLSearchParams({});for(const l in s){const h=s[l];i.set(l,h)}const r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const o=await(await fetch(`${y}/get_stores/?${i}`,{headers:r})).json();if(o!=null&&o.list)return a(()=>({stores:o})),o},openChild(s,t,i){a(()=>({currentChild:s,blur:t,back_color:s&&i||""}))},async deleteStore(s){const t=N.getState().owner;if(!t)return!1;const i=new Headers;i.append("Authorization",`Bearer ${t.token}`);const r={method:"DELETE",headers:i},d=await fetch(`${y}/delete_store/${s}`,r);try{const o=await d.json();return N.getState().owner_stores({}),o==null?void 0:o.deleted}catch{return!1}},setSelectedStore(s){a(()=>({selectedStore:s}))},async disconnection(){const s=N.getState().owner;if(s){const t=new Headers;t.append("Authorization",`Bearer ${s.token}`);const i={method:"GET",headers:t};await fetch(`${y}/disconnection`,i)}localStorage.removeItem("user"),a(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const t=JSON.parse(s),i=new Headers;i.append("Authorization",`Bearer ${t.token}`);const r={method:"GET",headers:i};let o=await(await fetch(`${y}/me`,r)).json();if(!(o!=null&&o.id))return localStorage.removeItem("user");N.getState().owner_stores({}),o={token:t.token,...o},a(()=>({owner:o})),localStorage.setItem("user",JSON.stringify(o))},async owner_stores(s){const t=N.getState().owner;if(!t)return;s.owner_id=t.id;const i=new URLSearchParams({});for(const l in s){const h=s[l];i.set(l,h)}const r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const o=await(await fetch(`${y}/get_stores/?${i}`,{headers:r})).json();if(o!=null&&o.list)return console.log(o.list),a(()=>({stores:o})),o},async editStore(s){const t=N.getState().owner;if(!t)return;const i=new Headers;i.append("Authorization",`Bearer ${t.token}`);const r=new FormData;Object.keys(s).forEach((l,h)=>{console.log("data",h,l,s[l]),l=="banners"?s[l].file?(console.log("new File",s[l].file),r.append(l,JSON.stringify(["banners_0"])),r.append("banners_0",s[l].file)):s[l].url&&(r.append(l,JSON.stringify([s[l].url])),console.log("keep same",JSON.stringify(s[l]))):l=="logo"?s[l].file?(console.log("new File",s[l].file),r.append(l,JSON.stringify(["logo_0"])),r.append("logo_0",s[l].file)):s[l].url&&(r.append(l,JSON.stringify([s[l].url])),console.log("keep same",JSON.stringify(s[l]))):r.append(l,s[l])});const d={method:"PUT",body:r,headers:i},o=await fetch(`${y}/update_store`,d);try{const l=await o.json();return N.getState().owner_stores({}),l}catch(l){console.log(l.message);return}},async createStore(s){try{const t=N.getState().owner;if(!t)return;const i=new Headers;i.append("Authorization",`Bearer ${t.token}`);const r=new FormData;console.log(s),Object.keys(s).forEach(h=>{h=="logo"&&(r.append(h,JSON.stringify(["logo_0"])),r.append("logo_0",s[h].file)),h=="banners"?(r.append(h,JSON.stringify(["banners_0"])),r.append("banners_0",s[h].file)):r.append(h,s[h])});const d={method:"POST",body:r,headers:i},l=await(await fetch(`${y}/create_store`,d)).json();return N.getState().owner_stores({}),l}catch(t){return t}},async createOwner(){window.open(`${y}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const t=localStorage.getItem("user"),i=t&&JSON.parse(t);i&&(a(()=>({owner:i})),clearInterval(s),N.getState().owner_stores({}),$.getState().setAbsPath(["store_list"]))},100)}})),$=new X(Z,["/","home"]).getStore();let ee=0;function O({icon:a,infos:s,text:t,title:i,link:r,id:d}){return e.jsxs("a",{href:r,id:d,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+ee++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[a&&e.jsx("div",{className:"icon",style:{background:f(a,"90%")}}),e.jsx("h1",{className:"title",children:i}),e.jsx("p",{children:t}),s==null?void 0:s.map((o,l)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:f(o.icon,"90%")}}),e.jsx("div",{className:"text",children:o.text})]},l))]})]})}function se(){const a=(i,r=50)=>{const o=100*i-r*.5,l=100-(o+r);return{transformOrigin:`${-o}px 25px`,right:`${l}px`}},s=i=>({scale:`${i}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:a(2*.3,20)}),e.jsx("div",{className:"planet2",style:a(2*.6,40)}),e.jsx("div",{className:"planet3",style:a(2*.9)}),e.jsx("div",{className:"planet4",style:a(2*1.15,40)}),e.jsx("div",{className:"planet5",style:a(2*1.4,70)}),e.jsx("div",{className:"planet6",style:a(2*1.65)}),e.jsx("div",{className:"planet7",style:a(2*2)})]})})}function te(){const[a,s]=u.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(a=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(a=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(a=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(a=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(a=="discussion"?"active":""),children:e.jsxs("div",{className:"view-discussion",children:[e.jsxs("div",{className:"collabo1 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsx("div",{className:"collabo1-collabo2 conect",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"message-c3 message"})})}),e.jsxs("div",{className:"collabo2 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"admin user",children:e.jsx("div",{className:"label",children:"Admin"})})]})}),e.jsx("div",{className:"ctn-group "+(a=="group"?"active":"")})]})]})}function ae(){const{pathList:a,check:s}=$(),[t,i]=u.useState(0),[r,d]=u.useState(0),[o,l]=u.useState(0),[h]=u.useState({time:0,id:void 0,start:0,count:0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{this.time=Date.now()-this.start,this.count++,i(this.count)},5e3))}});return u.useEffect(()=>(s("home")&&!h.id&&h.init(),()=>{h.stop()}),[h,a]),e.jsxs("div",{className:"interface-change",onMouseMove:c=>{const n=c.currentTarget.getBoundingClientRect(),w=n.x+n.width/2,S=n.y+n.height/2;d((c.clientX-w)/(n.width/2)),l(-(c.clientY-S)/(n.height/2))},onTouchMove:c=>{const n=c.currentTarget.getBoundingClientRect(),w=n.x+n.width/2,S=n.y+n.height/2;d((c.touches[0].clientX-w)/(n.width/2)),l(-(c.touches[0].clientY-S)/(n.height/2))},children:[e.jsxs("div",{className:"left-side",children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${Math.PI*r*.05}rad) rotateX(${Math.PI*o*.05}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(t%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(t%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(t%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(t%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(t%4==0?"active":"")}),e.jsx("div",{className:"icon2 "+(t%4==1?"active":"")}),e.jsx("div",{className:"icon3 "+(t%4==2?"active":"")}),e.jsx("div",{className:"icon4 "+(t%4==3?"active":"")})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"e currentTarget getBounding ClientRect()"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"4"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"5"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]})]})]})}const b=250,T=10;let z=0,ie=0;const ce=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aut","Sep","Oct","Nov","Dec"];function ne(){var h;const{check:a,pathList:s}=$(),t=u.useRef(null),[i,r]=u.useState(Array.from({length:T},(c,n)=>n/T*b)),[d]=u.useState({time:0,id:void 0,start:0,count:0,y:0,touchDate:void 0,isHover:!1,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{if(this.time=Date.now()-this.start,z++,this.isHover||this.touchDate)i.shift(),i.push(this.y),r([...i]),this.count++;else if(ie++%30==0){i.shift();const c=Math.cos(z/80),n=b*(c*.5+.5);i.push(n>b?b:n<0?0:n),r([...i]),this.count++}Date.now()-(this.touchDate||0)>1e3&&(this.touchDate=void 0)},30))}});u.useEffect(()=>(a("home")&&!d.id&&d.init(),()=>{d.stop()}),[s]);let o=(((h=t.current)==null?void 0:h.getBoundingClientRect().width)||0)/i.length;const l=[0,b,...i.map((c,n)=>[o*n,b-Math.trunc(c)]).flat(1),o*(T-1),b];return console.log(l),e.jsx("div",{className:"bar-chart",children:e.jsxs("div",{className:"chart-ctn",ref:t,onMouseEnter:()=>d.isHover=!0,onMouseLeave:()=>d.isHover=!1,onMouseMove:c=>{const n=c.currentTarget.getBoundingClientRect();d.y=n.y+n.height-c.clientY},onTouchMove:c=>{const n=c.currentTarget.getBoundingClientRect();d.y=n.y+n.height-c.touches[0].clientY,d.touchDate=Date.now()},children:[Array.from({length:T},(c,n)=>n/T*b).map((c,n)=>e.jsx("div",{className:"val",style:{left:"-15px",position:"absolute",top:`calc(${(1-n/T)*b}px - 1em)`},children:Math.trunc(c/b*100)/10})),e.jsx("div",{className:"hand-ctn",style:{bottom:`${i[i.length-1]}px`},children:e.jsxs("div",{className:"hand",style:{transform:"translateY(-0.5em)"},children:["ðŸ‘ˆ ",Math.trunc(i[i.length-1]/b*100)/10]})}),e.jsxs("svg",{className:"svg-lines",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chart-line-gradieant",gradientTransform:"rotate(90)",children:[e.jsx("stop",{offset:"5%","stop-color":"#6200ff66"}),e.jsx("stop",{offset:"95%","stop-color":"#58007a33"})]})}),e.jsx("polygon",{className:"polygon",points:l.toString()})]}),i.map((c,n)=>e.jsx("div",{className:"bar",style:{height:`${c*.5}px`,width:"20px",left:`${2.5+100/i.length*n}%`,bottom:"0"},children:e.jsx("div",{className:"label",children:ce[(d.count+n)%12]},n+"t")},n+"b"))]})})}const re=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let le=0;function oe(){const[a,s]=u.useState(1),[t,i]=u.useState();u.useEffect(()=>{if(!t)return i(setInterval(()=>{s(le++%4+1)},3e3)),()=>{clearInterval(t)}},[t]);const{check:r}=$();return r("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:re.map(d=>e.jsx("a",{href:`#home/${d.u}`,style:{background:f(d.i)}}))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre",children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(a==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(a==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(a==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(a==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(se,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(te,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre",children:e.jsx(ae,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre",children:e.jsx(ne,{})})]})]})}function de(){var R;const[a]=u.useState(K()),{current:s,setAbsPath:t,navBack:i,json:r,pathList:d}=$(),{createStore:o,deleteStore:l,editStore:h,selectedStore:c,openChild:n,setStoreById:w,owner:S,exist:v}=N(),[x,C]=u.useState(c||{}),[p,I]=u.useState(c?{url:(s("edit_store")||"")&&`${c.logo[0]}`}:null),[j,E]=u.useState(c?{url:(s("edit_store")||"")&&`${(R=c.banners)==null?void 0:R[0]}`}:null),q=U().width<1050?"wrap":"",[A,P]=u.useState(""),[H,M]=u.useState(!1);u.useEffect(()=>{setTimeout(()=>{var m;c&&s("edit_store")&&(C(c),E({url:`${c.banners[0]}`}),I({url:`${(m=c.logo)==null?void 0:m[0]}`}))}),c||(C({}),I(null),E(null))},[c]),u.useEffect(()=>{S&&(r!=null&&r.store_id)&&w(r.store_id)},[r,S]),u.useEffect(()=>{P("")},[d]);const D=s("edit_store"),J=(j==null?void 0:j.url)&&(p==null?void 0:p.url)&&x.name,L=c;return D&&!c?e.jsx("div",{className:"store-select-btn",onClick:()=>{t(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[c&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>i()}),e.jsx(Q,{terme:"dark",deteleKey:c.id,mode:"delete",onDelete:()=>{l(c.id).then(m=>{m&&t(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(c)),window.open(`${k}/demo/${c.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(c)),window.open(`${k}/${c==null?void 0:c.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+q,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(c?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(j!=null&&j.url?"":"void"),style:j!=null&&j.url?{background:f((j==null?void 0:j.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(j==null?void 0:j.url)&&e.jsx("div",{className:"open",onClick:()=>{n(e.jsx("div",{className:"big-img",onClick:()=>n(void 0,!1),children:e.jsx("div",{className:"img",style:{background:f((j==null?void 0:j.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:a+"banner",style:{display:"none"},onChange:m=>{var _;const g=(_=m.currentTarget.files)==null?void 0:_[0];g&&E({file:g,url:URL.createObjectURL(g)})}}),e.jsx("label",{htmlFor:a+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(p!=null&&p.url?"":"void"),style:p!=null&&p.url?{background:f((p==null?void 0:p.url)||"")}:{},onClick:m=>{m.currentTarget==m.target&&p!=null&&p.url&&n(e.jsx("div",{className:"big-img",onClick:()=>n(void 0,!1),children:e.jsx("div",{className:"img",style:{background:f((p==null?void 0:p.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:a+"logo",style:{display:"none"},onChange:m=>{var _;const g=(_=m.currentTarget.files)==null?void 0:_[0];g&&I({file:g,url:URL.createObjectURL(g)})}}),e.jsx("label",{htmlFor:a+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:x.name}),e.jsx("div",{className:"owner-email",children:x.store_email}),e.jsx("div",{className:"id",children:x.id&&`#${x.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:c?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:c?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:c?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:x.website}),e.jsx("div",{className:"phone",children:x.phone})]})]}),c&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(L)),window.open(`${k}/${x.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(L)),window.open(`${k}/${x.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:j!=null&&j.url?"available":"no-available",htmlFor:a+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:p!=null&&p.url?"available":"no-available",htmlFor:a+"logo",children:["Logo ",e.jsx("span",{})]})]}),D&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:a+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:a+"id",value:x.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:A=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:A=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:a+"name",value:x.name||"",placeholder:"Name",onChange:m=>{var _;const g=m.currentTarget.value;g.trim().length<3?P("no"):(_=v(g))==null||_.then(F=>{P(F?"no":"yes"),console.log(g,A,F,F?"no":"yes")}),C({...x,name:g})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"phone",value:x.phone||"",placeholder:"Phone",onChange:m=>{C({...x,phone:m.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:a+"store_email",value:x.store_email||"",placeholder:"Store email",onChange:m=>{C({...x,store_email:m.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"website",value:x.website||"",placeholder:"Web Site",onChange:m=>{C({...x,website:m.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"description",value:x.description||"",placeholder:"Description",onChange:m=>{C({...x,description:m.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"address",value:x.address,placeholder:"Address",onChange:m=>{C({...x,address:m.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:J?"":"#345"},onClick:()=>{!J||H||(M(!0),D?c&&h({...x,banners:j,logo:p,store_id:c==null?void 0:c.id}).then(m=>{M(!1),m&&t(["store_list"])}):o({...x,banners:j,logo:p}).then(m=>{setTimeout(()=>{M(!1)},100),m!=null&&m.id&&m&&t(["store_list"])}))},children:H?e.jsx("div",{className:"loading"}):`${D?"Edit":"Create"} Store`})})]})]})]})}function he(){const{check:a,current:s,setAbsPath:t,qs:i,navBack:r,pathList:d}=$(),{owner:o,stores:l,owner_stores:h,setSelectedStore:c}=N();return u.useEffect(()=>{o&&a("store_list")&&h({text:""})},[d,o]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>r()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:n=>{h({text:n.currentTarget.value})}})]}),o&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{c(void 0),t(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:W,children:l==null?void 0:l.list.map(n=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:f(n.banners[0])},onClick:()=>{c(n),i({store_id:n.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:f(n.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:n.name}),e.jsx("div",{className:"owner-email",children:n.store_email}),e.jsxs("div",{className:"id",children:["#",n.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:n.website}),e.jsx("div",{className:"phone",children:n.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(n)),window.open(`${k}/${n.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(n)),window.open(`${k}/${n.name}/dash`)},children:"DASH"})]})]})]}))})]})}const B=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function me(){var S;const{setAbsPath:a,pathList:s}=$(),[t,i]=u.useState(s[1]||"home"),[r,d]=u.useState(!1),[o,l]=u.useState(!1),{owner:h,createOwner:c}=N(),n=U(),w=v=>{a([v]),i(v)};return u.useEffect(()=>{i(s[1]||"home")},[s]),u.useEffect(()=>{window.addEventListener("click",()=>{const v=document.querySelector(".top-bar .more-navs ul");(v==null?void 0:v.className)==""&&l(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:Y(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${k}/web#home`,className:"logo-ctn",onClick:()=>{w("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:B.map((v,x)=>x*200<n.width-400?e.jsxs("li",{className:t==v.u?"active":"",onClick:()=>w(v.u),children:[e.jsx("span",{style:{background:f(v.i,"80%")}}),v.n]}):e.jsx(e.Fragment,{}))}),e.jsx("div",{className:"ctn-icon",onClick:v=>{v.preventDefault(),v.stopPropagation(),l(!o)},children:e.jsx("div",{className:"icon"})}),h?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(S=h==null?void 0:h.photos[0])!=null&&S.startsWith("/")?y:""}${h==null?void 0:h.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>c(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:v=>{v.preventDefault(),v.stopPropagation()},children:e.jsxs("ul",{className:o?"":"close",children:[B.map((v,x)=>x*200>=n.width-400?e.jsxs("li",{className:t==v.u?"active":"",onClick:()=>w(v.u),children:[e.jsx("span",{style:{background:f(v.i,"80%")}}),v.n]}):e.jsx(e.Fragment,{})),e.jsxs("li",{className:t=="mode-lite"?"active":"",onClick:()=>{d(!r)},children:[e.jsx("span",{style:{background:f("/src/res/mark.png","70%")}}),r?"Lite mode off":"Lite mode on"]})]})})]})}function ue(){const{tryToken:a,blur:s,currentChild:t,openChild:i,back_color:r}=N(),{pathList:d}=$();return u.useEffect(()=>{i(void 0)},[d]),u.useEffect(()=>{a()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(me,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(oe,{}),e.jsx(de,{}),e.jsx(he,{})]})]}),t&&e.jsx("div",{className:"child-viewer",onContextMenu:o=>{o.preventDefault(),i(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:r},onClick:()=>{i(void 0)},onContextMenu:o=>{o.preventDefault(),i(void 0)},children:t})})]})}const xe=a=>a,ge=xe(e.jsx(V.StrictMode,{children:e.jsx(ue,{})}));export{ge as WebView};

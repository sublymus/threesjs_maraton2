import{j as e,g as w,u as Y,b as X,a as G}from"./BindToParentScroll-rUhCxKYp.js";import{c as V,S as K,H as k,r as v,L as T,R as Q}from"./index-C9gTIdFh.js";import{g as Z,E as ee}from"./EditorTopBar-m-CpAh-y.js";const se={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},f=V(a=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${k}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var r,c;const t=(r=f.getState().stores)==null?void 0:r.list.find(u=>u.id==s);if(t)return a(()=>({selectedStore:t}));{const u=(c=await f.getState().fetchStores({text:"#"+s}))==null?void 0:c.list[0];if(u)return a(()=>({selectedStore:u}))}},async fetchStores(s){const t=f.getState().owner;if(!t)return;s.owner_id=t.id,console.log({filter:s});const r=new URLSearchParams({});for(const o in s){const l=s[o];r.set(o,l)}const c=new Headers;c.append("Authorization",`Bearer ${t.token}`);const n=await(await fetch(`${k}/get_stores/?${r}`,{headers:c})).json();if(n!=null&&n.list)return a(()=>({stores:n})),n},openChild(s,t,r){a(()=>({currentChild:s,blur:t,back_color:s&&r||""}))},async deleteStore(s){const t=f.getState().owner;if(!t)return!1;const r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const c={method:"DELETE",headers:r},u=await fetch(`${k}/delete_store/${s}`,c);try{const n=await u.json();return f.getState().owner_stores({}),n==null?void 0:n.deleted}catch{return!1}},setSelectedStore(s){a(()=>({selectedStore:s}))},async disconnection(){const s=f.getState().owner;if(s){const t=new Headers;t.append("Authorization",`Bearer ${s.token}`);const r={method:"GET",headers:t};await fetch(`${k}/disconnection`,r)}localStorage.removeItem("user"),a(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const t=JSON.parse(s),r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const c={method:"GET",headers:r};let n=await(await fetch(`${k}/me`,c)).json();if(!(n!=null&&n.id))return localStorage.removeItem("user");f.getState().owner_stores({}),n={token:t.token,...n},a(()=>({owner:n})),localStorage.setItem("user",JSON.stringify(n))},async owner_stores(s){const t=f.getState().owner;if(!t)return;s.owner_id=t.id;const r=new URLSearchParams({});for(const o in s){const l=s[o];r.set(o,l)}const c=new Headers;c.append("Authorization",`Bearer ${t.token}`);const n=await(await fetch(`${k}/get_stores/?${r}`,{headers:c})).json();if(n!=null&&n.list)return console.log(n.list),a(()=>({stores:n})),n},async editStore(s){const t=f.getState().owner;if(!t)return;const r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const c=new FormData;Object.keys(s).forEach((o,l)=>{console.log("data",l,o,s[o]),o=="banners"?s[o].file?(console.log("new File",s[o].file),c.append(o,JSON.stringify(["banners_0"])),c.append("banners_0",s[o].file)):s[o].url&&(c.append(o,JSON.stringify([s[o].url])),console.log("keep same",JSON.stringify(s[o]))):o=="logo"?s[o].file?(console.log("new File",s[o].file),c.append(o,JSON.stringify(["logo_0"])),c.append("logo_0",s[o].file)):s[o].url&&(c.append(o,JSON.stringify([s[o].url])),console.log("keep same",JSON.stringify(s[o]))):c.append(o,s[o])});const u={method:"PUT",body:c,headers:r},n=await fetch(`${k}/update_store`,u);try{const o=await n.json();return f.getState().owner_stores({}),o}catch(o){console.log(o.message);return}},async createStore(s){try{const t=f.getState().owner;if(!t)return;const r=new Headers;r.append("Authorization",`Bearer ${t.token}`);const c=new FormData;console.log(s),Object.keys(s).forEach(l=>{l=="logo"&&(c.append(l,JSON.stringify(["logo_0"])),c.append("logo_0",s[l].file)),l=="banners"?(c.append(l,JSON.stringify(["banners_0"])),c.append("banners_0",s[l].file)):c.append(l,s[l])});const u={method:"POST",body:c,headers:r},o=await(await fetch(`${k}/create_store`,u)).json();return f.getState().owner_stores({}),o}catch(t){return t}},async createOwner(){window.open(`${k}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const t=localStorage.getItem("user"),r=t&&JSON.parse(t);r&&(a(()=>({owner:r})),clearInterval(s),f.getState().owner_stores({}),D.getState().setAbsPath(["store_list"]))},100)}})),D=new K(se,["/","home"]).getStore();let te=0;function M({icon:a,infos:s,text:t,title:r,id:c}){return e.jsxs("div",{id:c,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+te++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[a&&e.jsx("div",{className:"icon",style:{background:w(a,"90%")}}),e.jsx("h1",{className:"title",children:r}),e.jsx("p",{children:t}),s==null?void 0:s.map((u,n)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:w(u.icon,"90%")}}),e.jsx("div",{className:"text",children:u.text})]},n))]})]})}function ae(){const a=(r,c=50)=>{const n=100*r-c*.5,o=100-(n+c);return{transformOrigin:`${-n}px 25px`,right:`${o}px`}},s=r=>({scale:`${r}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:a(2*.3,20)}),e.jsx("div",{className:"planet2",style:a(2*.6,40)}),e.jsx("div",{className:"planet3",style:a(2*.9)}),e.jsx("div",{className:"planet4",style:a(2*1.15,40)}),e.jsx("div",{className:"planet5",style:a(2*1.4,70)}),e.jsx("div",{className:"planet6",style:a(2*1.65)}),e.jsx("div",{className:"planet7",style:a(2*2)})]})})}function ie(){const[a,s]=v.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(a=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(a=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(a=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(a=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(a=="discussion"?"active":""),children:e.jsxs("div",{className:"view-discussion",children:[e.jsxs("div",{className:"collabo1 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsx("div",{className:"collabo1-collabo2 conect",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"message-c3 message"})})}),e.jsxs("div",{className:"collabo2 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"admin user",children:e.jsx("div",{className:"label",children:"Admin"})})]})}),e.jsx("div",{className:"ctn-group "+(a=="group"?"active":"")})]})]})}function ne(){const{pathList:a,check:s}=D(),[t,r]=v.useState(0),[c,u]=v.useState(0),[n,o]=v.useState(0),[l]=v.useState({time:0,id:void 0,start:0,count:0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{this.time=Date.now()-this.start,this.count++,r(this.count)},5e3))}});return v.useEffect(()=>(s("home")&&!l.id&&l.init(),()=>{l.stop()}),[l,a]),console.log(`rotateY(${-Math.PI*c*.1}rad) rotateX(${Math.PI*n*.1}rad)`),e.jsxs("div",{className:"interface-change",children:[e.jsxs("div",{className:"left-side",onMouseMove:d=>{const m=d.currentTarget.getBoundingClientRect(),y=m.y+m.height/2;u((d.clientX-m.x)/(m.width/2)),o((d.clientY-y)/(m.height/2))},onTouchMove:d=>{const m=d.currentTarget.getBoundingClientRect(),y=m.y+m.height/2;u((d.touches[0].clientX-m.x)/(m.width/2)),o((d.touches[0].clientY-y)/(m.height/2))},children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${-Math.PI*c*.1}rad) rotateX(${Math.PI*n*.1}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(t%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(t%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(t%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(t%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(t%4==0?"active":"")}),e.jsx("div",{className:"icon2 "+(t%4==1?"active":"")}),e.jsx("div",{className:"icon3 "+(t%4==2?"active":"")}),e.jsx("div",{className:"icon4 "+(t%4==3?"active":"")})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const S=250,O=10;let L=0,ce=0;const re=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aut","Sep","Oct","Nov","Dec"],C=[5,8,7,3,1,8,2,6],oe=["#402E7A","#4C3BCF","#4B70F5","#3DC2EC","#49243E","#704264","#BB8493","#DBAFA0"];function le(){var y;const{check:a,pathList:s}=D(),t=v.useRef(null),r=v.useRef(null),[c,u]=v.useState({v:void 0}),[n,o]=v.useState(Array.from({length:O},(h,i)=>i/O*S)),[l]=v.useState({time:0,id:void 0,start:0,count:0,y:0,touchDate:void 0,isHover:!1,pie:{touchDate:void 0,isHover:!1,x:0,y:0},stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{if(this.time=Date.now()-this.start,L++,this.touchDate)n.shift(),n.push(this.y),o([...n]),this.count++;else if(ce++%30==0){n.shift();const h=Math.cos(L/80),i=S*(h*.5+.5);n.push(i>S?S:i<0?0:i),o([...n]),this.count++}if(Date.now()-(this.touchDate||0)>1e3&&(this.touchDate=void 0),this.pie.touchDate){let h=180*(Math.atan2(this.pie.y,this.pie.x)/Math.PI);h=h+(1-(Math.abs(this.pie.y)/this.pie.y*.5+.5))*360,h+=90,h-=h>360&&h<450?360:0;const i=C.reduce((x,g)=>x+g);C.find((x,g)=>{const N=C[g]/i*360;let _=0;C.find((U,P)=>{if(P==g)return!0;_+=C[P]/i*360});const p=_,E=_+N;return h<E&&h>p?(u({v:g}),!0):!1})}else c.v=void 0,u(c);Date.now()-(this.pie.touchDate||0)>1e3&&(this.pie.touchDate=void 0)},30))}});v.useEffect(()=>(a("home")&&!l.id&&l.init(),()=>{l.stop()}),[s]);let d=(((y=t.current)==null?void 0:y.getBoundingClientRect().width)||0)/n.length;const m=[0,S,...n.map((h,i)=>[d*i,S-Math.trunc(h)]).flat(1),d*(O-1),S];return e.jsxs("div",{className:"bar-chart",children:[e.jsx("div",{className:"bar-top",children:e.jsxs("div",{className:"chart-ctn",ref:t,onMouseMove:h=>{const i=h.currentTarget.getBoundingClientRect();l.y=i.y+i.height-h.clientY,l.touchDate=Date.now()},onTouchMove:h=>{const i=h.currentTarget.getBoundingClientRect();l.y=i.y+i.height-h.touches[0].clientY,l.touchDate=Date.now()},children:[Array.from({length:O},(h,i)=>i/O*S).map((h,i)=>e.jsx("div",{className:"val",style:{left:"-15px",position:"absolute",top:`calc(${(1-i/O)*S}px - 1em)`},children:Math.trunc(h/S*100)/10})),e.jsx("div",{className:"hand-ctn",style:{bottom:`${n[n.length-1]}px`},children:e.jsxs("div",{className:"hand",style:{transform:"translateY(-0.5em)"},children:["👈 ",Math.trunc(n[n.length-1]/S*100)/10]})}),e.jsxs("svg",{className:"svg-lines",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chart-line-gradieant",gradientTransform:"rotate(90)",children:[e.jsx("stop",{offset:"5%","stop-color":"#6200ff66"}),e.jsx("stop",{offset:"95%","stop-color":"#58007a33"})]})}),e.jsx("polygon",{className:"polygon",points:m.toString()})]}),n.map((h,i)=>e.jsx("div",{className:"bar",style:{height:`${h*.5}px`,width:"20px",left:`${2.5+100/n.length*i}%`,bottom:"0"},children:e.jsx("div",{className:"label",children:re[(l.count+i)%12]},i+"t")},i+"b"))]})}),e.jsxs("div",{className:"infos",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"left",children:"have graphic tools to follow your users' consumption trends"}),e.jsxs("div",{className:"piechart",ref:r,onMouseMove:h=>{const i=h.currentTarget.getBoundingClientRect();l.pie.y=h.clientY-(i.y+i.height/2),l.pie.x=h.clientX-(i.x+i.width/2),l.pie.touchDate=Date.now()},onTouchMove:h=>{const i=h.currentTarget.getBoundingClientRect();l.pie.y=h.touches[0].clientY-(i.y+i.height/2),l.pie.x=h.touches[0].clientX-(i.x+i.width/2),l.pie.touchDate=Date.now()},children:[C.map((h,i)=>{const x=C.reduce((_,p)=>_+p),g=C[i]/x*360;let N=0;return C.find((_,p)=>{if(p==i)return!0;N+=C[p]/x*360}),e.jsx("div",{className:"part "+(c.v==i?"active":""),style:{rotate:`${N}deg`,background:`conic-gradient(${oe[i]} ${g}deg, transparent ${g}deg)`}})}),e.jsx("div",{className:"part",style:{pointerEvents:"none",background:"radial-gradient(circle, #0005 0% ,#0000 50% ) "}}),e.jsx("div",{className:"value "+(l.pie.touchDate?"touch":""),style:{top:`${100+l.pie.y}px`,left:`${65+l.pie.x}px`,display:c.v==null?"none":""},children:C[c.v||0]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"1"}),"Product visit statistics"]}),e.jsx("p",{children:"  you will have access to the number of visits per defined period, this will allow you to know the current trends of your customer"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"2"}),"Product order statistics"]}),e.jsx("p",{children:"  order statistics, to track your revenue"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"3"}),"Customer satisfaction statistics"]}),e.jsx("p",{children:"  your customers will leave you a product rating per order, this will allow you to judge user preferences"})]})]})]})]})}const de=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let he=0;function me(){const[a,s]=v.useState(1),[t,r]=v.useState();v.useEffect(()=>{if(!t)return r(setInterval(()=>{s(he++%4+1)},3e3)),()=>{clearInterval(t)}},[t]);const{check:c}=D();return c("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:de.map(u=>e.jsx("a",{href:`#home/${u.u}`,style:{background:w(u.i)}}))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(M,{id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(M,{id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(M,{id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre",children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(a==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Accessible all over the world 24/7"}),e.jsx("p",{children:"You and your customers will be able to access the content of your store at any time."})]})]}),e.jsxs("div",{className:"info "+(a==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Mobile or desktop"}),e.jsx("p",{children:"The Sublymus platform is available on the web in Mobile, tablet and desktop versions"})]})]}),e.jsxs("div",{className:"info "+(a==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"report issues to customer service"}),e.jsx("p",{children:"to help us improve the platform, report any problems you encounter."})]})]}),e.jsxs("div",{className:"info "+(a==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"quick correction and maintenance"}),e.jsx("p",{children:"We are attentive to your comments and we are working to correct or improve them as quickly as possible."})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(ae,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(ie,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(M,{id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre",children:e.jsx(ne,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(M,{id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre",children:e.jsx(le,{})})]}),e.jsx("footer",{})]})}function ue(){var q;const[a]=v.useState(Z()),{current:s,setAbsPath:t,navBack:r,json:c,pathList:u}=D(),{createStore:n,deleteStore:o,editStore:l,selectedStore:d,openChild:m,setStoreById:y,owner:h,exist:i}=f(),[x,g]=v.useState(d||{}),[N,_]=v.useState(d?{url:(s("edit_store")||"")&&`${d.logo[0]}`}:null),[p,E]=v.useState(d?{url:(s("edit_store")||"")&&`${(q=d.banners)==null?void 0:q[0]}`}:null),P=Y().width<1050?"wrap":"",[A,F]=v.useState(""),[J,R]=v.useState(!1);v.useEffect(()=>{setTimeout(()=>{var j;d&&s("edit_store")&&(g(d),E({url:`${d.banners[0]}`}),_({url:`${(j=d.logo)==null?void 0:j[0]}`}))}),d||(g({}),_(null),E(null))},[d]),v.useEffect(()=>{h&&(c!=null&&c.store_id)&&y(c.store_id)},[c,h]),v.useEffect(()=>{F("")},[u]);const I=s("edit_store"),B=(p==null?void 0:p.url)&&(N==null?void 0:N.url)&&x.name,z=d;return I&&!d?e.jsx("div",{className:"store-select-btn",onClick:()=>{t(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[d&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>r()}),e.jsx(ee,{terme:"dark",deteleKey:d.id,mode:"delete",onDelete:()=>{o(d.id).then(j=>{j&&t(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(d)),window.open(`${T}/demo/${d.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(d)),window.open(`${T}/${d==null?void 0:d.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+P,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(d?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(p!=null&&p.url?"":"void"),style:p!=null&&p.url?{background:w((p==null?void 0:p.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(p==null?void 0:p.url)&&e.jsx("div",{className:"open",onClick:()=>{m(e.jsx("div",{className:"big-img",onClick:()=>m(void 0,!1),children:e.jsx("div",{className:"img",style:{background:w((p==null?void 0:p.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:a+"banner",style:{display:"none"},onChange:j=>{var $;const b=($=j.currentTarget.files)==null?void 0:$[0];b&&E({file:b,url:URL.createObjectURL(b)})}}),e.jsx("label",{htmlFor:a+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(N!=null&&N.url?"":"void"),style:N!=null&&N.url?{background:w((N==null?void 0:N.url)||"")}:{},onClick:j=>{j.currentTarget==j.target&&N!=null&&N.url&&m(e.jsx("div",{className:"big-img",onClick:()=>m(void 0,!1),children:e.jsx("div",{className:"img",style:{background:w((N==null?void 0:N.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:a+"logo",style:{display:"none"},onChange:j=>{var $;const b=($=j.currentTarget.files)==null?void 0:$[0];b&&_({file:b,url:URL.createObjectURL(b)})}}),e.jsx("label",{htmlFor:a+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:x.name}),e.jsx("div",{className:"owner-email",children:x.store_email}),e.jsx("div",{className:"id",children:x.id&&`#${x.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:d?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:d?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:d?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:x.website}),e.jsx("div",{className:"phone",children:x.phone})]})]}),d&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(z)),window.open(`${T}/${x.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(z)),window.open(`${T}/${x.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:p!=null&&p.url?"available":"no-available",htmlFor:a+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:N!=null&&N.url?"available":"no-available",htmlFor:a+"logo",children:["Logo ",e.jsx("span",{})]})]}),I&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:a+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:a+"id",value:x.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:A=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:A=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:a+"name",value:x.name||"",placeholder:"Name",onChange:j=>{var $;const b=j.currentTarget.value;b.trim().length<3?F("no"):($=i(b))==null||$.then(H=>{F(H?"no":"yes"),console.log(b,A,H,H?"no":"yes")}),g({...x,name:b})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"phone",value:x.phone||"",placeholder:"Phone",onChange:j=>{g({...x,phone:j.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:a+"store_email",value:x.store_email||"",placeholder:"Store email",onChange:j=>{g({...x,store_email:j.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"website",value:x.website||"",placeholder:"Web Site",onChange:j=>{g({...x,website:j.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"description",value:x.description||"",placeholder:"Description",onChange:j=>{g({...x,description:j.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:a+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:a+"address",value:x.address,placeholder:"Address",onChange:j=>{g({...x,address:j.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:B?"":"#345"},onClick:()=>{!B||J||(R(!0),I?d&&l({...x,banners:p,logo:N,store_id:d==null?void 0:d.id}).then(j=>{R(!1),j&&t(["store_list"])}):n({...x,banners:p,logo:N}).then(j=>{setTimeout(()=>{R(!1)},100),j!=null&&j.id&&j&&t(["store_list"])}))},children:J?e.jsx("div",{className:"loading"}):`${I?"Edit":"Create"} Store`})})]})]})]})}function xe(){const{check:a,current:s,setAbsPath:t,qs:r,navBack:c,pathList:u}=D(),{owner:n,stores:o,owner_stores:l,setSelectedStore:d}=f();return v.useEffect(()=>{n&&a("store_list")&&l({text:""})},[u,n]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>c()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:m=>{l({text:m.currentTarget.value})}})]}),n&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{d(void 0),t(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:X,children:o==null?void 0:o.list.map(m=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:w(m.banners[0])},onClick:()=>{d(m),r({store_id:m.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:w(m.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:m.name}),e.jsx("div",{className:"owner-email",children:m.store_email}),e.jsxs("div",{className:"id",children:["#",m.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:m.website}),e.jsx("div",{className:"phone",children:m.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${T}/${m.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${T}/${m.name}/dash`)},children:"DASH"})]})]})]}))})]})}const W=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function ve(){var h;const{setAbsPath:a,pathList:s}=D(),[t,r]=v.useState(s[1]||"home"),[c,u]=v.useState(!1),[n,o]=v.useState(!1),{owner:l,createOwner:d}=f(),m=Y(),y=i=>{a([i]),r(i)};return v.useEffect(()=>{r(s[1]||"home")},[s]),v.useEffect(()=>{window.addEventListener("click",()=>{const i=document.querySelector(".top-bar .more-navs ul");(i==null?void 0:i.className)==""&&o(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:G(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${T}/web#home`,className:"logo-ctn",onClick:()=>{y("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:W.map((i,x)=>x*200<m.width-400?e.jsxs("li",{className:t==i.u?"active":"",onClick:()=>y(i.u),children:[e.jsx("span",{style:{background:w(i.i,"80%")}}),i.n]}):e.jsx(e.Fragment,{}))}),e.jsx("div",{className:"ctn-icon",onClick:i=>{i.preventDefault(),i.stopPropagation(),o(!n)},children:e.jsx("div",{className:"icon"})}),l?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(h=l==null?void 0:l.photos[0])!=null&&h.startsWith("/")?k:""}${l==null?void 0:l.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>d(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:i=>{i.preventDefault(),i.stopPropagation()},children:e.jsxs("ul",{className:n?"":"close",children:[W.map((i,x)=>x*200>=m.width-400?e.jsxs("li",{className:t==i.u?"active":"",onClick:()=>y(i.u),children:[e.jsx("span",{style:{background:w(i.i,"80%")}}),i.n]}):e.jsx(e.Fragment,{})),e.jsxs("li",{className:t=="mode-lite"?"active":"",onClick:()=>{u(!c)},children:[e.jsx("span",{style:{background:w("/src/res/mark.png","70%")}}),c?"Lite mode off":"Lite mode on"]})]})})]})}function pe(){const{tryToken:a,blur:s,currentChild:t,openChild:r,back_color:c}=f(),{pathList:u}=D();return v.useEffect(()=>{r(void 0)},[u]),v.useEffect(()=>{a()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(ve,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(me,{}),e.jsx(ue,{}),e.jsx(xe,{})]})]}),t&&e.jsx("div",{className:"child-viewer",onContextMenu:n=>{n.preventDefault(),r(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:c},onClick:()=>{r(void 0)},onContextMenu:n=>{n.preventDefault(),r(void 0)},children:t})})]})}const je=a=>a,ye=je(e.jsx(Q.StrictMode,{children:e.jsx(pe,{})}));export{ye as WebView};

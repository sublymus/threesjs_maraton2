var Z=Object.defineProperty;var ee=(n,s,i)=>s in n?Z(n,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[s]=i;var _=(n,s,i)=>(ee(n,typeof s!="symbol"?s+"":s,i),i);import{j as e,g as S,c as se,u as Q,b as te,a as ae}from"./BindToParentScroll-DIvwOqvP.js";import{c as ie,S as ne,H as $,r as g,L as R,R as re}from"./index-CKqYDVX0.js";import{W as ce,P as oe,O as le,S as de,G as me,T as he,a as ue,E as V,R as pe}from"./RGBELoader-vbmNht1H.js";import{g as ve,E as xe}from"./EditorTopBar-C9pnVjg7.js";const ge={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},w=ie(n=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${$}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var r,l;const i=(r=w.getState().stores)==null?void 0:r.list.find(d=>d.id==s);if(i)return n(()=>({selectedStore:i}));{const d=(l=await w.getState().fetchStores({text:"#"+s}))==null?void 0:l.list[0];if(d)return n(()=>({selectedStore:d}))}},async fetchStores(s){const i=w.getState().owner;if(!i)return;s.owner_id=i.id,console.log({filter:s});const r=new URLSearchParams({});for(const a in s){const c=s[a];r.set(a,c)}const l=new Headers;l.append("Authorization",`Bearer ${i.token}`);const t=await(await fetch(`${$}/get_stores/?${r}`,{headers:l})).json();if(t!=null&&t.list)return n(()=>({stores:t})),t},openChild(s,i,r){n(()=>({currentChild:s,blur:i,back_color:s&&r||""}))},async deleteStore(s){const i=w.getState().owner;if(!i)return!1;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const l={method:"DELETE",headers:r},d=await fetch(`${$}/delete_store/${s}`,l);try{const t=await d.json();return w.getState().owner_stores({}),t==null?void 0:t.deleted}catch{return!1}},setSelectedStore(s){n(()=>({selectedStore:s}))},async disconnection(){const s=w.getState().owner;if(s){const i=new Headers;i.append("Authorization",`Bearer ${s.token}`);const r={method:"GET",headers:i};await fetch(`${$}/disconnection`,r)}localStorage.removeItem("user"),n(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const i=JSON.parse(s),r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const l={method:"GET",headers:r};let t=await(await fetch(`${$}/me`,l)).json();if(!(t!=null&&t.id))return localStorage.removeItem("user");w.getState().owner_stores({}),t={token:i.token,...t},n(()=>({owner:t})),localStorage.setItem("user",JSON.stringify(t))},async owner_stores(s){const i=w.getState().owner;if(!i)return;s.owner_id=i.id;const r=new URLSearchParams({});for(const a in s){const c=s[a];r.set(a,c)}const l=new Headers;l.append("Authorization",`Bearer ${i.token}`);const t=await(await fetch(`${$}/get_stores/?${r}`,{headers:l})).json();if(t!=null&&t.list)return console.log(t.list),n(()=>({stores:t})),t},async editStore(s){const i=w.getState().owner;if(!i)return;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const l=new FormData;Object.keys(s).forEach((a,c)=>{console.log("data",c,a,s[a]),a=="banners"?s[a].file?(console.log("new File",s[a].file),l.append(a,JSON.stringify(["banners_0"])),l.append("banners_0",s[a].file)):s[a].url&&(l.append(a,JSON.stringify([s[a].url])),console.log("keep same",JSON.stringify(s[a]))):a=="logo"?s[a].file?(console.log("new File",s[a].file),l.append(a,JSON.stringify(["logo_0"])),l.append("logo_0",s[a].file)):s[a].url&&(l.append(a,JSON.stringify([s[a].url])),console.log("keep same",JSON.stringify(s[a]))):l.append(a,s[a])});const d={method:"PUT",body:l,headers:r},t=await fetch(`${$}/update_store`,d);try{const a=await t.json();return w.getState().owner_stores({}),a}catch(a){console.log(a.message);return}},async createStore(s){try{const i=w.getState().owner;if(!i)return;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const l=new FormData;console.log(s),Object.keys(s).forEach(c=>{c=="logo"&&(l.append(c,JSON.stringify(["logo_0"])),l.append("logo_0",s[c].file)),c=="banners"?(l.append(c,JSON.stringify(["banners_0"])),l.append("banners_0",s[c].file)):l.append(c,s[c])});const d={method:"POST",body:l,headers:r},a=await(await fetch(`${$}/create_store`,d)).json();return w.getState().owner_stores({}),a}catch(i){return i}},async createOwner(){window.open(`${$}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const i=localStorage.getItem("user"),r=i&&JSON.parse(i);r&&(n(()=>({owner:r})),clearInterval(s),w.getState().owner_stores({}),T.getState().setAbsPath(["store_list"]))},100)}})),T=new ne(ge,["/","home"]).getStore();let je=0;function O({icon:n,infos:s,text:i,title:r,id:l,onClick:d}){return e.jsxs("div",{id:l,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+je++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[n&&e.jsx("div",{className:"icon",style:{background:S(n,"90%")}}),e.jsx("h1",{className:"title",children:r}),e.jsx("p",{children:i}),s==null?void 0:s.map((t,a)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:S(t.icon,"90%")}}),e.jsx("div",{className:"text",children:t.text})]},a)),e.jsxs("div",{className:"btn-tuto",onClick:()=>{d==null||d()},children:[e.jsx("span",{}),"More Tutoriel"]})]})]})}function fe(){const n=(r,l=50)=>{const t=100*r-l*.5,a=100-(t+l);return{transformOrigin:`${-t}px 25px`,right:`${a}px`}},s=r=>({scale:`${r}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:n(2*.3,20)}),e.jsx("div",{className:"planet2",style:n(2*.6,40)}),e.jsx("div",{className:"planet3",style:n(2*.9)}),e.jsx("div",{className:"planet4",style:n(2*1.15,40)}),e.jsx("div",{className:"planet5",style:n(2*1.4,70)}),e.jsx("div",{className:"planet6",style:n(2*1.65)}),e.jsx("div",{className:"planet7",style:n(2*2)})]})})}function Ne(){const[n,s]=g.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(n=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(n=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(n=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(n=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(n=="discussion"?"active":""),children:e.jsxs("div",{className:"view-discussion",children:[e.jsxs("div",{className:"collabo1 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsx("div",{className:"collabo1-collabo2 conect",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"message-c3 message"})})}),e.jsxs("div",{className:"collabo2 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"admin user",children:e.jsx("div",{className:"label",children:"Admin"})})]})}),e.jsx("div",{className:"ctn-group "+(n=="group"?"active":"")})]})]})}function be(){const{pathList:n,check:s}=T(),[i,r]=g.useState(0),[l,d]=g.useState(0),[t,a]=g.useState(0),[c]=g.useState({time:0,id:void 0,start:0,count:0,wait:void 0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{Date.now()-(this.wait||0)>5e3&&(this.time=Date.now()-this.start,this.count++,r(this.count))},5e3))}});return g.useEffect(()=>(s("home")&&!c.id&&c.init(),()=>{c.stop()}),[c,n]),e.jsxs("div",{className:"interface-change",children:[e.jsxs("div",{className:"left-side",onMouseMove:m=>{const h=m.currentTarget.getBoundingClientRect(),N=h.y+h.height/2;d((m.clientX-h.x)/(h.width/2)),a((m.clientY-N)/(h.height/2))},onTouchMove:m=>{const h=m.currentTarget.getBoundingClientRect(),N=h.y+h.height/2;d((m.touches[0].clientX-h.x)/(h.width/2)),a((m.touches[0].clientY-N)/(h.height/2))},children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${-Math.PI*l*.1}rad) rotateX(${Math.PI*t*.1}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(i%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(i%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(i%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(i%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(i%4==0?"active":""),onClick:()=>{c.wait=Date.now(),r(0)}}),e.jsx("div",{className:"icon2 "+(i%4==1?"active":""),onClick:()=>{c.wait=Date.now(),r(1)}}),e.jsx("div",{className:"icon3 "+(i%4==2?"active":""),onClick:()=>{c.wait=Date.now(),r(2)}}),e.jsx("div",{className:"icon4 "+(i%4==3?"active":""),onClick:()=>{c.wait=Date.now(),r(3)}}),e.jsx("div",{className:"round "+("r-"+i%4),style:{left:`calc(${i%4} * ((100% - 20px) / 3))`}})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const k=250,P=10;let X=0,ye=0;const we=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aut","Sep","Oct","Nov","Dec"],E=[5,8,7,3,1,8,2,6],_e=["#402E7A","#4C3BCF","#4B70F5","#3DC2EC","#49243E","#704264","#BB8493","#DBAFA0"];function Se(){var N;const{check:n,pathList:s}=T(),i=g.useRef(null),r=g.useRef(null),[l,d]=g.useState({v:void 0}),[t,a]=g.useState(Array.from({length:P},(u,o)=>o/P*k)),[c]=g.useState({time:0,id:void 0,start:0,count:0,y:0,touchDate:void 0,isHover:!1,pie:{touchDate:void 0,isHover:!1,x:0,y:0},stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{if(this.time=Date.now()-this.start,X++,this.touchDate)t.shift(),t.push(this.y),a([...t]),this.count++;else if(ye++%30==0){t.shift();const u=Math.cos(X/80),o=k*(u*.5+.5);t.push(o>k?k:o<0?0:o),a([...t]),this.count++}if(Date.now()-(this.touchDate||0)>1e3&&(this.touchDate=void 0),this.pie.touchDate){let u=180*(Math.atan2(this.pie.y,this.pie.x)/Math.PI);u=u+(1-(Math.abs(this.pie.y)/this.pie.y*.5+.5))*360,u+=90,u-=u>360&&u<450?360:0;const o=E.reduce((p,v)=>p+v);E.find((p,v)=>{const x=E[v]/o*360;let b=0;E.find((A,H)=>{if(H==v)return!0;b+=E[H]/o*360});const j=b,D=b+x;return u<D&&u>j?(d({v}),!0):!1})}else l.v=void 0,d(l);Date.now()-(this.pie.touchDate||0)>1e3&&(this.pie.touchDate=void 0)},100))}});g.useEffect(()=>(n("home")?!c.id&&c.init():c.stop(),()=>{c.stop()}),[s]);let m=(((N=i.current)==null?void 0:N.getBoundingClientRect().width)||0)/t.length;const h=[0,k,...t.map((u,o)=>[m*o,k-Math.trunc(u)]).flat(1),m*(P-1),k];return e.jsxs("div",{className:"bar-chart",children:[e.jsx("div",{className:"bar-top",children:e.jsxs("div",{className:"chart-ctn",ref:i,onMouseMove:u=>{const o=u.currentTarget.getBoundingClientRect();c.y=o.y+o.height-u.clientY,c.touchDate=Date.now()},onTouchMove:u=>{const o=u.currentTarget.getBoundingClientRect();c.y=o.y+o.height-u.touches[0].clientY,c.touchDate=Date.now()},children:[Array.from({length:P},(u,o)=>o/P*k).map((u,o)=>e.jsx("div",{className:"val",style:{left:"-15px",position:"absolute",top:`calc(${(1-o/P)*k}px - 1em)`},children:Math.trunc(u/k*100)/10},o)),e.jsx("div",{className:"hand-ctn",style:{bottom:`${t[t.length-1]}px`},children:e.jsxs("div",{className:"hand",style:{transform:"translateY(-0.5em)"},children:["ðŸ‘ˆ ",Math.trunc(t[t.length-1]/k*100)/10]})}),e.jsxs("svg",{className:"svg-lines",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chart-line-gradieant",gradientTransform:"rotate(90)",children:[e.jsx("stop",{offset:"5%",stopColor:"#6200ff66"}),e.jsx("stop",{offset:"95%",stopColor:"#58007a33"})]})}),e.jsx("polygon",{className:"polygon",points:h.toString()})]}),t.map((u,o)=>e.jsx("div",{className:"bar",style:{height:`${u*.5}px`,width:"20px",left:`${2.5+100/t.length*o}%`,bottom:"0"},children:e.jsx("div",{className:"label",children:we[(c.count+o)%12]})},o+"b"))]})}),e.jsxs("div",{className:"infos",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"left",children:"have graphic tools to follow your users' consumption trends"}),e.jsxs("div",{className:"piechart",ref:r,onMouseMove:u=>{const o=u.currentTarget.getBoundingClientRect();c.pie.y=u.clientY-(o.y+o.height/2),c.pie.x=u.clientX-(o.x+o.width/2),c.pie.touchDate=Date.now()},onTouchMove:u=>{const o=u.currentTarget.getBoundingClientRect();c.pie.y=u.touches[0].clientY-(o.y+o.height/2),c.pie.x=u.touches[0].clientX-(o.x+o.width/2),c.pie.touchDate=Date.now()},children:[E.map((u,o)=>{const p=E.reduce((b,j)=>b+j),v=E[o]/p*360;let x=0;return E.find((b,j)=>{if(j==o)return!0;x+=E[j]/p*360}),e.jsx("div",{className:"part "+(l.v==o?"active":""),style:{rotate:`${x}deg`,background:`conic-gradient(${_e[o]} ${v}deg, transparent ${v}deg)`}},o)}),e.jsx("div",{className:"part",style:{pointerEvents:"none",background:"radial-gradient(circle, #0005 0% ,#0000 50% ) "}}),e.jsx("div",{className:"value "+(c.pie.touchDate?"touch":""),style:{top:`${100+c.pie.y}px`,left:`${65+c.pie.x}px`,display:l.v==null?"none":""},children:E[l.v||0]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"1"}),"Product visit statistics"]}),e.jsx("p",{children:"  you will have access to the number of visits per defined period, this will allow you to know the current trends of your customer"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"2"}),"Product order statistics"]}),e.jsx("p",{children:"  order statistics, to track your revenue"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"3"}),"Customer satisfaction statistics"]}),e.jsx("p",{children:"  your customers will leave you a product rating per order, this will allow you to judge user preferences"})]})]})]})]})}const y=class y{constructor(){_(this,"ring",null);_(this,"upDateFeatureMap");_(this,"modelPromise");_(this,"dependencies",{path:{THREE:"/three/build/three.module.js"},obj:{THREE:null,GLTFLoader:null}});_(this,"init",({THREE:s,GLTFLoader:i})=>{this.dependencies.obj.GLTFLoader=i,this.dependencies.obj.THREE=s;const r=(a,c,m)=>{let h=0;for(const N of a.children)h++,!(h==5||h==6)&&(N.material[c]=m)},l=(a,c,m)=>{[4,5].forEach(h=>{const N=a.children[h];N.material[c]=m})};let d=null;const t=a=>{d=a.scene.children[0].clone(),this.ring=new this.dependencies.obj.THREE.Object3D;const c=new this.dependencies.obj.THREE.Object3D;return c.add(d),this.ring.add(c),d.rotation.x=Math.PI*(85/180),d.scale.set(.1,.1,.1),l(d,"metalness",y.testMetal.metalness),l(d,"roughness",y.testMetal.roughness),l(d,"color",new this.dependencies.obj.THREE.Color(y.testMetal.color)),r(d,"metalness",y.testGem.metalness),r(d,"roughness",y.testGem.roughness),r(d,"color",new this.dependencies.obj.THREE.Color(y.testGem.color)),r(d,"reflectivity",y.testGem.reflectivity),r(d,"ior",y.testGem.ior),r(d,"thickness",y.testGem.thickness),r(d,"transmission",y.testGem.transmission),r(d,"clearcoat",y.testGem.clearcoat),r(d,"side",this.dependencies.obj.THREE.DoubleSide),this.ring};this.modelPromise=new Promise(a=>{new this.dependencies.obj.GLTFLoader().load(`${location.host.includes("localhost")?"http://localhost:3333":""}/fs/products_scene_dir_05e7dc8e-f409-46ae-91cc-6a125add8c5b/Ring_1/model.glb`,c=>{a(t(c))})}),this.upDateFeatureMap={metal:a=>{typeof a=="number"||typeof a=="string"||typeof a=="boolean"?typeof a=="string"&&l(d,"color",new this.dependencies.obj.THREE.Color(parseInt(a,16))):l(d,"color",a!=null&&a.value?new this.dependencies.obj.THREE.Color(parseInt(a.value,16)):y.testMetal.color)},gem:a=>{typeof a=="number"||typeof a=="string"||typeof a=="boolean"?typeof a=="string"&&r(d,"color",new this.dependencies.obj.THREE.Color(parseInt(a,16))):r(d,"color",a!=null&&a.value?new this.dependencies.obj.THREE.Color(parseInt(a.value,16)):y.testMetal.color)}}})}getDependencies(){return this.dependencies}async getModel(){return await this.modelPromise}showFeature(s){throw new Error("Method not implemented.")}updateFeature(s,i){var r,l;(l=(r=this.upDateFeatureMap)[s.name])==null||l.call(r,i)}};_(y,"testWorld",{scene:3359829,ground:83873694}),_(y,"testGem",{color:"#2d3563",metalness:0,roughness:0,reflectivity:0,ior:1.1,thickness:30,clearcoat:0,transmission:1}),_(y,"testMetal",{color:"#eeeeee",metalness:1,roughness:0});let J=y;const Ce={id:"gem_id",name:"gem",collect_type:"string",icon:"/src/World/images/gem/gem.png",view:"icon",default_value:{id:"blue_garnet",name:"Grenat bleu",feature_id:"gem_id",icon:["/src/World/images/gem/blue_garnet.png"],code:"2d3563"},components:[{id:"blue_garnet",name:"Grenat bleu",feature_id:"gem_id",icon:["/src/World/images/gem/blue_garnet.png"],code:"2d3563"},{name:"Taaffeite",id:"taaffeite",icon:["/src/World/images/gem/taaffeite.png"],code:"9575ab",feature_id:"gem_id"},{name:"Grandidierite",id:"grandidierite",icon:["/src/World/images/gem/grandidierite.png"],code:"3f7269",feature_id:"gem_id"},{name:"Serendibite",id:"serendibite",icon:["/src/World/images/gem/serendibite.png"],code:"024a3d",feature_id:"gem_id"},{name:"Diamant",id:"diamond",icon:["/src/World/images/gem/diamond.png"],code:"abdcf9",feature_id:"gem_id"},{name:"Rubis",id:"ruby",icon:["/src/World/images/gem/ruby.png"],code:"c24a4a",feature_id:"gem_id"},{name:"Alexandrite",id:"alexandrite",icon:["/src/World/images/gem/alexandrite.png"],code:"0d5a4c",feature_id:"gem_id"},{name:"BÃ©ryl rouge",id:"red_beryl",icon:["/src/World/images/gem/red_beryl.png"],code:"6f4060",feature_id:"gem_id"},{name:"Padparadscha Saphire",id:"padparadscha_saphire",icon:["/src/World/images/gem/padparadscha_saphire.png"],code:"98485d",feature_id:"gem_id"},{name:"Musgravite",id:"musgravite",icon:["/src/World/images/gem/musgravite.png"],code:"b2acad",feature_id:"gem_id"},{name:"Saphir",id:"sapphire",icon:["/src/World/images/gem/sapphire.png"],code:"288fc3",feature_id:"gem_id"},{name:"Benitoite",id:"benitoite",icon:["/src/World/images/gem/benitoite.png"],code:"286bc3",feature_id:"gem_id"},{name:"Opale noire",id:"black_opal",icon:["/src/World/images/gem/black_opal.png"],code:"4c415e",feature_id:"gem_id"},{name:"Grenat dÃ©mantoÃ¯de",id:"demantoid_garnet",icon:["/src/World/images/gem/demantoid_garnet.png"],code:"5cb065",feature_id:"gem_id"},{name:"Poudretteite",id:"poudretteite",icon:["/src/World/images/gem/poudretteite.png"],code:"a770b5",feature_id:"gem_id"},{name:"Opale de feu",id:"fire_opal",icon:["/src/World/images/gem/fire_opal.png"],code:"b38a3c",feature_id:"gem_id"},{name:"Jeremejevite",id:"jeremejevite",icon:["/src/World/images/gem/jeremejevite.png"],code:"99a1ca",feature_id:"gem_id"},{name:"Tanzanite",id:"tanzanite",icon:["/src/World/images/gem/tanzanite.png"],code:"46518a",feature_id:"gem_id"}]},ke={id:"metal_id",collect_type:"string",name:"metal",icon:"/src/World/images/metal/metal.png",view:"icon",default_value:{id:"5707c6a6-d197-4a7b-8a8c-34150325e514",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"5707c6a6-d197-4a7b-8a8c-34150325e514",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:59:07",updated_at:"2024-05-20 07:59:07",name:"Silver",description:"silver",images:"[]",icon:["/src/World/images/metal/silver.png"],scene:null,code:"eeeeee",key:"silver"},components:[{id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:58:13",updated_at:"2024-05-20 07:58:13",name:"Gold",description:"gold",images:"[]",icon:["/src/World/images/metal/gold.png"],scene:null,code:"bead2e",key:"gold"},{id:"5707c6a6-d197-4a7b-8a8c-34150325e514",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"5707c6a6-d197-4a7b-8a8c-34150325e514",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:59:07",updated_at:"2024-05-20 07:59:07",name:"Silver",description:"silver",images:"[]",icon:["/src/World/images/metal/silver.png"],scene:null,code:"eeeeee",key:"silver"},{id:"0af71216-5c1f-40f7-823f-8b25afb20984",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"0af71216-5c1f-40f7-823f-8b25afb20984",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:59:57",updated_at:"2024-05-20 08:01:09",name:"Bronze",description:"bronz",images:"[]",icon:["/src/World/images/metal/bronz.png"],scene:null,code:"ffaa55",key:"bronz"}]},Ee={limit:25,total:2,page:1,list:[ke,Ce]};function De(){var u,o,p;const[n]=g.useState({product3d:void 0,init(v){this.product3d=new $e(v)}}),{pathList:s,check:i}=T(),r=g.useRef(null),l=g.useRef(null);g.useEffect(()=>{var v;return!n.product3d&&r.current?n.init(r.current):r.current&&((v=n.product3d)==null||v.setCanvas(r.current)),()=>{var x;(x=n.product3d)==null||x.setVisible(!1)}},[r]);const d=se(l,500,!!i("home"));g.useEffect(()=>{var v;return(v=n.product3d)==null||v.setVisible(d),()=>{var x;(x=n.product3d)==null||x.setVisible(!1)}},[s,d]);const[t,a]=g.useState(void 0),[c,m]=g.useState(void 0),[h,N]=g.useState({});return e.jsxs("div",{className:"product-3d",children:[e.jsxs("div",{className:"canvas-ctn",ref:l,children:[e.jsx("canvas",{id:"home-canvas-product-3d",ref:r}),e.jsxs("div",{className:"features-ctn",style:{width:c?"100%":""},children:[e.jsx("div",{className:"values",children:e.jsx("div",{className:"ctn",children:(u=t==null?void 0:t.components)==null?void 0:u.map((v,x)=>e.jsx("div",{className:"value "+((c==null?void 0:c.id)==v.id?"active":""),style:{background:S(v.icon[0],(c==null?void 0:c.id)==v.id?"80%":"70%")},onClick:()=>{var b,j,D;(c==null?void 0:c.id)==v.id?(m(t.default_value),N({...h,[t.name]:t.default_value}),(j=n.product3d)==null||j.loader.updateFeature(t,(b=t.default_value)==null?void 0:b.code)):(m(v),N({...h,[t.name]:v}),(D=n.product3d)==null||D.loader.updateFeature(t,v.code))}},x))})}),e.jsx("div",{className:"name",children:e.jsx("h4",{children:((o=h[(t==null?void 0:t.name)||""])==null?void 0:o.name)||((p=t==null?void 0:t.default_value)==null?void 0:p.name)})}),e.jsx("div",{className:"features",children:Ee.list.map((v,x)=>e.jsx("div",{className:"feature "+((t==null?void 0:t.id)==v.id?"active":""),style:{background:S(v.icon,(t==null?void 0:t.id)==v.id?"70%":"60%")},onClick:()=>{if((t==null?void 0:t.id)==v.id)a(void 0),m(void 0);else{a(v);const b=h[v.name]||v.default_value;N({...h,[v.name]:b}),m(b)}}},x))})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const W={};class $e{constructor(s){_(this,"controls");_(this,"renderer");_(this,"visible",!1);_(this,"loader");_(this,"render");this.canvas=s;const i=s.parentElement;this.renderer=new ce({canvas:s,alpha:!0,premultipliedAlpha:!1,antialias:!0});const r=75,l=2,d=.1,t=10;this.renderer.domElement=s;const a=new oe(r,l,d,t);a.position.z=2.5,this.controls=new le(a,s),this.controls.enableDamping=!0,this.controls.maxDistance=2.5,this.controls.minDistance=1.8,this.controls.enablePan=!1,this.controls.dampingFactor=.03,this.controls.enabled=!0;const c=new de;W.model?(console.log("last Cache.model",W.model),this.loader=W.loader,c.add(W.model)):(this.loader=new J,W.loader=this.loader,this.loader.init({GLTFLoader:me,THREE:he}),this.loader.getModel().then(o=>{new ue().load("/src/World/images/royal_esplanade_1k3.jpg",v=>{v.mapping=V;const x=o.children[0].children[0].children;for(const b of x)b.material.envMap=v;setTimeout(()=>{new pe().load("/src/World/images/royal_esplanade_1k.hdr",j=>{j.mapping=V;const D=o.children[0].children[0].children;for(const A of D)A.material.envMap=j})},5e3)}),c.add(o),W.model=o,console.log("new Cache.model")}));let m=0,h=0;function N(o){const p=i.getBoundingClientRect(),v=Math.min(p.width,400),x=Math.min(p.height,400),b=m!==v||h!==x;return b&&(h=x,m=v,o.setSize(p.width,p.height,!1)),b}const u=this;this.render=function(o){if(N(u.renderer)){const p=u.renderer.domElement;a.aspect=p.width/p.height,a.updateProjectionMatrix()}u.visible&&(u.controls.update(),u.renderer.render(c,a),requestAnimationFrame(u.render))},requestAnimationFrame(u.render)}setCanvas(s){this.canvas=s,this.controls.domElement=s,this.renderer.domElement=s}setVisible(s){this.visible=s,console.log("####",s),s&&requestAnimationFrame(this.render)}isVisible(){this.visible}}const Te=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let Me=0;function Re(){const[n,s]=g.useState(1),[i,r]=g.useState();g.useEffect(()=>{if(!i)return r(setInterval(()=>{s(Me++%4+1)},3e3)),()=>{clearInterval(i)}},[i]);const{check:l}=T(),[d,t]=g.useState("");return l("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:Te.map(a=>e.jsx("a",{href:`#home/${a.u}`,style:{background:S(a.i)}},a.u))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),d&&e.jsx("div",{className:"close-cadre",onClick:()=>{t("")}}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{onClick:()=>{t("products")},id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre "+(d=="products"?"open":""),children:e.jsx(De,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{onClick:()=>{t("commands")},id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre "+(d=="commands"?"open":"")})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{onClick:()=>{t("users")},id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre "+(d=="users"?"open":""),children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(n==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Accessible all over the world 24/7"}),e.jsx("p",{children:"You and your customers will be able to access the content of your store at any time."})]})]}),e.jsxs("div",{className:"info "+(n==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Mobile or desktop"}),e.jsx("p",{children:"The Sublymus platform is available on the web in Mobile, tablet and desktop versions"})]})]}),e.jsxs("div",{className:"info "+(n==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"report issues to customer service"}),e.jsx("p",{children:"to help us improve the platform, report any problems you encounter."})]})]}),e.jsxs("div",{className:"info "+(n==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"quick correction and maintenance"}),e.jsx("p",{children:"We are attentive to your comments and we are working to correct or improve them as quickly as possible."})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(fe,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(Ne,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{onClick:()=>{t("interfaces")},id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre "+(d=="interfaces"?"open":""),children:e.jsx(be,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{onClick:()=>{t("statistics")},id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre "+(d=="statistics"?"open":""),children:e.jsx(Se,{})})]}),e.jsx("footer",{})]})}function Pe(){var U;const[n]=g.useState(ve()),{current:s,setAbsPath:i,navBack:r,json:l,pathList:d}=T(),{createStore:t,deleteStore:a,editStore:c,selectedStore:m,openChild:h,setStoreById:N,owner:u,exist:o}=w(),[p,v]=g.useState(m||{}),[x,b]=g.useState(m?{url:(s("edit_store")||"")&&`${m.logo[0]}`}:null),[j,D]=g.useState(m?{url:(s("edit_store")||"")&&`${(U=m.banners)==null?void 0:U[0]}`}:null),H=Q().width<1050?"wrap":"",[F,G]=g.useState(""),[L,z]=g.useState(!1);g.useEffect(()=>{setTimeout(()=>{var f;m&&s("edit_store")&&(v(m),D({url:`${m.banners[0]}`}),b({url:`${(f=m.logo)==null?void 0:f[0]}`}))}),m||(v({}),b(null),D(null))},[m]),g.useEffect(()=>{u&&(l!=null&&l.store_id)&&N(l.store_id)},[l,u]),g.useEffect(()=>{G("")},[d]);const I=s("edit_store"),q=(j==null?void 0:j.url)&&(x==null?void 0:x.url)&&p.name,Y=m;return I&&!m?e.jsx("div",{className:"store-select-btn",onClick:()=>{i(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[m&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>r()}),e.jsx(xe,{terme:"dark",deteleKey:m.id,mode:"delete",onDelete:()=>{a(m.id).then(f=>{f&&i(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${R}/demo/${m.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${R}/${m==null?void 0:m.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+H,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(m?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(j!=null&&j.url?"":"void"),style:j!=null&&j.url?{background:S((j==null?void 0:j.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(j==null?void 0:j.url)&&e.jsx("div",{className:"open",onClick:()=>{h(e.jsx("div",{className:"big-img",onClick:()=>h(void 0,!1),children:e.jsx("div",{className:"img",style:{background:S((j==null?void 0:j.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:n+"banner",style:{display:"none"},onChange:f=>{var M;const C=(M=f.currentTarget.files)==null?void 0:M[0];C&&D({file:C,url:URL.createObjectURL(C)})}}),e.jsx("label",{htmlFor:n+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(x!=null&&x.url?"":"void"),style:x!=null&&x.url?{background:S((x==null?void 0:x.url)||"")}:{},onClick:f=>{f.currentTarget==f.target&&x!=null&&x.url&&h(e.jsx("div",{className:"big-img",onClick:()=>h(void 0,!1),children:e.jsx("div",{className:"img",style:{background:S((x==null?void 0:x.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:n+"logo",style:{display:"none"},onChange:f=>{var M;const C=(M=f.currentTarget.files)==null?void 0:M[0];C&&b({file:C,url:URL.createObjectURL(C)})}}),e.jsx("label",{htmlFor:n+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:p.name}),e.jsx("div",{className:"owner-email",children:p.store_email}),e.jsx("div",{className:"id",children:p.id&&`#${p.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:m?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:m?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:m?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:p.website}),e.jsx("div",{className:"phone",children:p.phone})]})]}),m&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(Y)),window.open(`${R}/${p.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(Y)),window.open(`${R}/${p.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:j!=null&&j.url?"available":"no-available",htmlFor:n+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:x!=null&&x.url?"available":"no-available",htmlFor:n+"logo",children:["Logo ",e.jsx("span",{})]})]}),I&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:n+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:n+"id",value:p.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:F=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:F=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:n+"name",value:p.name||"",placeholder:"Name",onChange:f=>{var M;const C=f.currentTarget.value;C.trim().length<3?G("no"):(M=o(C))==null||M.then(B=>{G(B?"no":"yes"),console.log(C,F,B,B?"no":"yes")}),v({...p,name:C})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"phone",value:p.phone||"",placeholder:"Phone",onChange:f=>{v({...p,phone:f.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:n+"store_email",value:p.store_email||"",placeholder:"Store email",onChange:f=>{v({...p,store_email:f.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"website",value:p.website||"",placeholder:"Web Site",onChange:f=>{v({...p,website:f.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"description",value:p.description||"",placeholder:"Description",onChange:f=>{v({...p,description:f.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"address",value:p.address,placeholder:"Address",onChange:f=>{v({...p,address:f.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:q?"":"#345"},onClick:()=>{!q||L||(z(!0),I?m&&c({...p,banners:j,logo:x,store_id:m==null?void 0:m.id}).then(f=>{z(!1),f&&i(["store_list"])}):t({...p,banners:j,logo:x}).then(f=>{setTimeout(()=>{z(!1)},100),f!=null&&f.id&&f&&i(["store_list"])}))},children:L?e.jsx("div",{className:"loading"}):`${I?"Edit":"Create"} Store`})})]})]})]})}function We(){const{check:n,current:s,setAbsPath:i,qs:r,navBack:l,pathList:d}=T(),{owner:t,stores:a,owner_stores:c,setSelectedStore:m}=w();return g.useEffect(()=>{t&&n("store_list")&&c({text:""})},[d,t]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>l()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:h=>{c({text:h.currentTarget.value})}})]}),t&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{m(void 0),i(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:te,children:a==null?void 0:a.list.map(h=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:S(h.banners[0])},onClick:()=>{m(h),r({store_id:h.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:S(h.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:h.name}),e.jsx("div",{className:"owner-email",children:h.store_email}),e.jsxs("div",{className:"id",children:["#",h.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:h.website}),e.jsx("div",{className:"phone",children:h.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${R}/${h.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${R}/${h.name}/dash`)},children:"DASH"})]})]})]}))})]})}const K=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function Oe(){var u;const{setAbsPath:n,pathList:s}=T(),[i,r]=g.useState(s[1]||"home"),[l,d]=g.useState(!1),[t,a]=g.useState(!1),{owner:c,createOwner:m}=w(),h=Q(),N=o=>{n([o]),r(o)};return g.useEffect(()=>{r(s[1]||"home")},[s]),g.useEffect(()=>{window.addEventListener("click",()=>{const o=document.querySelector(".top-bar .more-navs ul");(o==null?void 0:o.className)==""&&a(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:ae(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${R}/web#home`,className:"logo-ctn",onClick:()=>{N("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:K.map((o,p)=>p*200<h.width-400?e.jsxs("li",{className:i==o.u?"active":"",onClick:()=>N(o.u),children:[e.jsx("span",{style:{background:S(o.i,"80%")}}),o.n]},p):null)}),e.jsx("div",{className:"ctn-icon",onClick:o=>{o.preventDefault(),o.stopPropagation(),a(!t)},children:e.jsx("div",{className:"icon"})}),c?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(u=c==null?void 0:c.photos[0])!=null&&u.startsWith("/")?$:""}${c==null?void 0:c.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>m(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:o=>{o.preventDefault(),o.stopPropagation()},children:e.jsxs("ul",{className:t?"":"close",children:[K.map((o,p)=>p*200>=h.width-400?e.jsxs("li",{className:i==o.u?"active":"",onClick:()=>N(o.u),children:[e.jsx("span",{style:{background:S(o.i,"80%")}}),o.n]},p):null),e.jsxs("li",{className:i=="mode-lite"?"active":"",onClick:()=>{d(!l)},children:[e.jsx("span",{style:{background:S("/src/res/mark.png","70%")}}),l?"Lite mode off":"Lite mode on"]})]})})]})}function He(){const{tryToken:n,blur:s,currentChild:i,openChild:r,back_color:l}=w(),{pathList:d}=T();return g.useEffect(()=>{r(void 0)},[d]),g.useEffect(()=>{n()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(Oe,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(Re,{}),e.jsx(Pe,{}),e.jsx(We,{})]})]}),i&&e.jsx("div",{className:"child-viewer",onContextMenu:t=>{t.preventDefault(),r(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:l},onClick:()=>{r(void 0)},onContextMenu:t=>{t.preventDefault(),r(void 0)},children:i})})]})}const Ie=n=>n,Je=Ie(e.jsx(re.StrictMode,{children:e.jsx(He,{})}));export{Je as WebView};

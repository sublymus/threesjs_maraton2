var Q=Object.defineProperty;var Z=(n,s,i)=>s in n?Q(n,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[s]=i;var _=(n,s,i)=>(Z(n,typeof s!="symbol"?s+"":s,i),i);import{j as e,g as S,c as ee,u as X,b as se,a as te}from"./BindToParentScroll-C1oGTROk.js";import{c as ae,S as ie,H as D,r as v,L as M,R as ne}from"./index-CwORnEAK.js";import{W as re,P as ce,O as oe,S as le,G as de,T as me,R as he,E as ue}from"./RGBELoader-CBpcoxa-.js";import{g as pe,E as ve}from"./EditorTopBar-CyQxmy4M.js";const xe={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},y=ae(n=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${D}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var r,d;const i=(r=y.getState().stores)==null?void 0:r.list.find(a=>a.id==s);if(i)return n(()=>({selectedStore:i}));{const a=(d=await y.getState().fetchStores({text:"#"+s}))==null?void 0:d.list[0];if(a)return n(()=>({selectedStore:a}))}},async fetchStores(s){const i=y.getState().owner;if(!i)return;s.owner_id=i.id,console.log({filter:s});const r=new URLSearchParams({});for(const t in s){const o=s[t];r.set(t,o)}const d=new Headers;d.append("Authorization",`Bearer ${i.token}`);const m=await(await fetch(`${D}/get_stores/?${r}`,{headers:d})).json();if(m!=null&&m.list)return n(()=>({stores:m})),m},openChild(s,i,r){n(()=>({currentChild:s,blur:i,back_color:s&&r||""}))},async deleteStore(s){const i=y.getState().owner;if(!i)return!1;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const d={method:"DELETE",headers:r},a=await fetch(`${D}/delete_store/${s}`,d);try{const m=await a.json();return y.getState().owner_stores({}),m==null?void 0:m.deleted}catch{return!1}},setSelectedStore(s){n(()=>({selectedStore:s}))},async disconnection(){const s=y.getState().owner;if(s){const i=new Headers;i.append("Authorization",`Bearer ${s.token}`);const r={method:"GET",headers:i};await fetch(`${D}/disconnection`,r)}localStorage.removeItem("user"),n(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const i=JSON.parse(s),r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const d={method:"GET",headers:r};let m=await(await fetch(`${D}/me`,d)).json();if(!(m!=null&&m.id))return localStorage.removeItem("user");y.getState().owner_stores({}),m={token:i.token,...m},n(()=>({owner:m})),localStorage.setItem("user",JSON.stringify(m))},async owner_stores(s){const i=y.getState().owner;if(!i)return;s.owner_id=i.id;const r=new URLSearchParams({});for(const t in s){const o=s[t];r.set(t,o)}const d=new Headers;d.append("Authorization",`Bearer ${i.token}`);const m=await(await fetch(`${D}/get_stores/?${r}`,{headers:d})).json();if(m!=null&&m.list)return console.log(m.list),n(()=>({stores:m})),m},async editStore(s){const i=y.getState().owner;if(!i)return;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const d=new FormData;Object.keys(s).forEach((t,o)=>{console.log("data",o,t,s[t]),t=="banners"?s[t].file?(console.log("new File",s[t].file),d.append(t,JSON.stringify(["banners_0"])),d.append("banners_0",s[t].file)):s[t].url&&(d.append(t,JSON.stringify([s[t].url])),console.log("keep same",JSON.stringify(s[t]))):t=="logo"?s[t].file?(console.log("new File",s[t].file),d.append(t,JSON.stringify(["logo_0"])),d.append("logo_0",s[t].file)):s[t].url&&(d.append(t,JSON.stringify([s[t].url])),console.log("keep same",JSON.stringify(s[t]))):d.append(t,s[t])});const a={method:"PUT",body:d,headers:r},m=await fetch(`${D}/update_store`,a);try{const t=await m.json();return y.getState().owner_stores({}),t}catch(t){console.log(t.message);return}},async createStore(s){try{const i=y.getState().owner;if(!i)return;const r=new Headers;r.append("Authorization",`Bearer ${i.token}`);const d=new FormData;console.log(s),Object.keys(s).forEach(o=>{o=="logo"&&(d.append(o,JSON.stringify(["logo_0"])),d.append("logo_0",s[o].file)),o=="banners"?(d.append(o,JSON.stringify(["banners_0"])),d.append("banners_0",s[o].file)):d.append(o,s[o])});const a={method:"POST",body:d,headers:r},t=await(await fetch(`${D}/create_store`,a)).json();return y.getState().owner_stores({}),t}catch(i){return i}},async createOwner(){window.open(`${D}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const i=localStorage.getItem("user"),r=i&&JSON.parse(i);r&&(n(()=>({owner:r})),clearInterval(s),y.getState().owner_stores({}),$.getState().setAbsPath(["store_list"]))},100)}})),$=new ie(xe,["/","home"]).getStore();let ge=0;function O({icon:n,infos:s,text:i,title:r,id:d}){return e.jsxs("div",{id:d,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+ge++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[n&&e.jsx("div",{className:"icon",style:{background:S(n,"90%")}}),e.jsx("h1",{className:"title",children:r}),e.jsx("p",{children:i}),s==null?void 0:s.map((a,m)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:S(a.icon,"90%")}}),e.jsx("div",{className:"text",children:a.text})]},m)),e.jsxs("a",{href:"",className:"btn-tuto",children:[e.jsx("span",{}),"More Tutoriel"]})]})]})}function je(){const n=(r,d=50)=>{const m=100*r-d*.5,t=100-(m+d);return{transformOrigin:`${-m}px 25px`,right:`${t}px`}},s=r=>({scale:`${r}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:n(2*.3,20)}),e.jsx("div",{className:"planet2",style:n(2*.6,40)}),e.jsx("div",{className:"planet3",style:n(2*.9)}),e.jsx("div",{className:"planet4",style:n(2*1.15,40)}),e.jsx("div",{className:"planet5",style:n(2*1.4,70)}),e.jsx("div",{className:"planet6",style:n(2*1.65)}),e.jsx("div",{className:"planet7",style:n(2*2)})]})})}function fe(){const[n,s]=v.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(n=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(n=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(n=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(n=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(n=="discussion"?"active":""),children:e.jsxs("div",{className:"view-discussion",children:[e.jsxs("div",{className:"collabo1 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsx("div",{className:"collabo1-collabo2 conect",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"message-c3 message"})})}),e.jsxs("div",{className:"collabo2 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"admin user",children:e.jsx("div",{className:"label",children:"Admin"})})]})}),e.jsx("div",{className:"ctn-group "+(n=="group"?"active":"")})]})]})}function Ne(){const{pathList:n,check:s}=$(),[i,r]=v.useState(0),[d,a]=v.useState(0),[m,t]=v.useState(0),[o]=v.useState({time:0,id:void 0,start:0,count:0,wait:void 0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{Date.now()-(this.wait||0)>5e3&&(this.time=Date.now()-this.start,this.count++,r(this.count))},5e3))}});return v.useEffect(()=>(s("home")&&!o.id&&o.init(),()=>{o.stop()}),[o,n]),e.jsxs("div",{className:"interface-change",children:[e.jsxs("div",{className:"left-side",onMouseMove:h=>{const u=h.currentTarget.getBoundingClientRect(),N=u.y+u.height/2;a((h.clientX-u.x)/(u.width/2)),t((h.clientY-N)/(u.height/2))},onTouchMove:h=>{const u=h.currentTarget.getBoundingClientRect(),N=u.y+u.height/2;a((h.touches[0].clientX-u.x)/(u.width/2)),t((h.touches[0].clientY-N)/(u.height/2))},children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${-Math.PI*d*.1}rad) rotateX(${Math.PI*m*.1}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(i%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(i%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(i%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(i%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(i%4==0?"active":""),onClick:()=>{o.wait=Date.now(),r(0)}}),e.jsx("div",{className:"icon2 "+(i%4==1?"active":""),onClick:()=>{o.wait=Date.now(),r(1)}}),e.jsx("div",{className:"icon3 "+(i%4==2?"active":""),onClick:()=>{o.wait=Date.now(),r(2)}}),e.jsx("div",{className:"icon4 "+(i%4==3?"active":""),onClick:()=>{o.wait=Date.now(),r(3)}}),e.jsx("div",{className:"round "+("r-"+i%4),style:{left:`calc(${i%4} * ((100% - 20px) / 3))`}})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const k=250,R=10;let U=0,be=0;const ye=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aut","Sep","Oct","Nov","Dec"],E=[5,8,7,3,1,8,2,6],we=["#402E7A","#4C3BCF","#4B70F5","#3DC2EC","#49243E","#704264","#BB8493","#DBAFA0"];function _e(){var N;const{check:n,pathList:s}=$(),i=v.useRef(null),r=v.useRef(null),[d,a]=v.useState({v:void 0}),[m,t]=v.useState(Array.from({length:R},(p,c)=>c/R*k)),[o]=v.useState({time:0,id:void 0,start:0,count:0,y:0,touchDate:void 0,isHover:!1,pie:{touchDate:void 0,isHover:!1,x:0,y:0},stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{if(this.time=Date.now()-this.start,U++,this.touchDate)m.shift(),m.push(this.y),t([...m]),this.count++;else if(be++%30==0){m.shift();const p=Math.cos(U/80),c=k*(p*.5+.5);m.push(c>k?k:c<0?0:c),t([...m]),this.count++}if(Date.now()-(this.touchDate||0)>1e3&&(this.touchDate=void 0),this.pie.touchDate){let p=180*(Math.atan2(this.pie.y,this.pie.x)/Math.PI);p=p+(1-(Math.abs(this.pie.y)/this.pie.y*.5+.5))*360,p+=90,p-=p>360&&p<450?360:0;const c=E.reduce((l,g)=>l+g);E.find((l,g)=>{const x=E[g]/c*360;let w=0;E.find((K,H)=>{if(H==g)return!0;w+=E[H]/c*360});const j=w,W=w+x;return p<W&&p>j?(a({v:g}),!0):!1})}else d.v=void 0,a(d);Date.now()-(this.pie.touchDate||0)>1e3&&(this.pie.touchDate=void 0)},100))}});v.useEffect(()=>(n("home")?!o.id&&o.init():o.stop(),()=>{o.stop()}),[s]);let h=(((N=i.current)==null?void 0:N.getBoundingClientRect().width)||0)/m.length;const u=[0,k,...m.map((p,c)=>[h*c,k-Math.trunc(p)]).flat(1),h*(R-1),k];return e.jsxs("div",{className:"bar-chart",children:[e.jsx("div",{className:"bar-top",children:e.jsxs("div",{className:"chart-ctn",ref:i,onMouseMove:p=>{const c=p.currentTarget.getBoundingClientRect();o.y=c.y+c.height-p.clientY,o.touchDate=Date.now()},onTouchMove:p=>{const c=p.currentTarget.getBoundingClientRect();o.y=c.y+c.height-p.touches[0].clientY,o.touchDate=Date.now()},children:[Array.from({length:R},(p,c)=>c/R*k).map((p,c)=>e.jsx("div",{className:"val",style:{left:"-15px",position:"absolute",top:`calc(${(1-c/R)*k}px - 1em)`},children:Math.trunc(p/k*100)/10},c)),e.jsx("div",{className:"hand-ctn",style:{bottom:`${m[m.length-1]}px`},children:e.jsxs("div",{className:"hand",style:{transform:"translateY(-0.5em)"},children:["ðŸ‘ˆ ",Math.trunc(m[m.length-1]/k*100)/10]})}),e.jsxs("svg",{className:"svg-lines",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chart-line-gradieant",gradientTransform:"rotate(90)",children:[e.jsx("stop",{offset:"5%",stopColor:"#6200ff66"}),e.jsx("stop",{offset:"95%",stopColor:"#58007a33"})]})}),e.jsx("polygon",{className:"polygon",points:u.toString()})]}),m.map((p,c)=>e.jsx("div",{className:"bar",style:{height:`${p*.5}px`,width:"20px",left:`${2.5+100/m.length*c}%`,bottom:"0"},children:e.jsx("div",{className:"label",children:ye[(o.count+c)%12]})},c+"b"))]})}),e.jsxs("div",{className:"infos",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"left",children:"have graphic tools to follow your users' consumption trends"}),e.jsxs("div",{className:"piechart",ref:r,onMouseMove:p=>{const c=p.currentTarget.getBoundingClientRect();o.pie.y=p.clientY-(c.y+c.height/2),o.pie.x=p.clientX-(c.x+c.width/2),o.pie.touchDate=Date.now()},onTouchMove:p=>{const c=p.currentTarget.getBoundingClientRect();o.pie.y=p.touches[0].clientY-(c.y+c.height/2),o.pie.x=p.touches[0].clientX-(c.x+c.width/2),o.pie.touchDate=Date.now()},children:[E.map((p,c)=>{const l=E.reduce((w,j)=>w+j),g=E[c]/l*360;let x=0;return E.find((w,j)=>{if(j==c)return!0;x+=E[j]/l*360}),e.jsx("div",{className:"part "+(d.v==c?"active":""),style:{rotate:`${x}deg`,background:`conic-gradient(${we[c]} ${g}deg, transparent ${g}deg)`}},c)}),e.jsx("div",{className:"part",style:{pointerEvents:"none",background:"radial-gradient(circle, #0005 0% ,#0000 50% ) "}}),e.jsx("div",{className:"value "+(o.pie.touchDate?"touch":""),style:{top:`${100+o.pie.y}px`,left:`${65+o.pie.x}px`,display:d.v==null?"none":""},children:E[d.v||0]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"1"}),"Product visit statistics"]}),e.jsx("p",{children:"  you will have access to the number of visits per defined period, this will allow you to know the current trends of your customer"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"2"}),"Product order statistics"]}),e.jsx("p",{children:"  order statistics, to track your revenue"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"3"}),"Customer satisfaction statistics"]}),e.jsx("p",{children:"  your customers will leave you a product rating per order, this will allow you to judge user preferences"})]})]})]})]})}const b=class b{constructor(){_(this,"ring",null);_(this,"upDateFeatureMap");_(this,"modelPromise");_(this,"dependencies",{path:{THREE:"/three/build/three.module.js"},obj:{THREE:null,GLTFLoader:null}});_(this,"init",({THREE:s,GLTFLoader:i})=>{this.dependencies.obj.GLTFLoader=i,this.dependencies.obj.THREE=s;const r=(t,o,h)=>{let u=0;for(const N of t.children)u++,!(u==5||u==6)&&(N.material[o]=h)},d=(t,o,h)=>{[4,5].forEach(u=>{const N=t.children[u];N.material[o]=h})};let a=null;const m=t=>{a=t.scene.children[0].clone(),this.ring=new this.dependencies.obj.THREE.Object3D;const o=new this.dependencies.obj.THREE.Object3D;return o.add(a),this.ring.add(o),a.rotation.x=Math.PI*(85/180),a.scale.set(.1,.1,.1),d(a,"metalness",b.testMetal.metalness),d(a,"roughness",b.testMetal.roughness),d(a,"color",new this.dependencies.obj.THREE.Color(b.testMetal.color)),r(a,"metalness",b.testGem.metalness),r(a,"roughness",b.testGem.roughness),r(a,"color",new this.dependencies.obj.THREE.Color(b.testGem.color)),r(a,"reflectivity",b.testGem.reflectivity),r(a,"ior",b.testGem.ior),r(a,"thickness",b.testGem.thickness),r(a,"transmission",b.testGem.transmission),r(a,"clearcoat",b.testGem.clearcoat),r(a,"side",this.dependencies.obj.THREE.DoubleSide),this.ring};this.modelPromise=new Promise(t=>{new this.dependencies.obj.GLTFLoader().load(`${location.host.includes("localhost")?"http://localhost:3333":""}/fs/products_scene_dir_05e7dc8e-f409-46ae-91cc-6a125add8c5b/Ring_1/model.glb`,o=>{t(m(o))})}),this.upDateFeatureMap={metal:t=>{typeof t=="number"||typeof t=="string"||typeof t=="boolean"?typeof t=="string"&&d(a,"color",new this.dependencies.obj.THREE.Color(parseInt(t,16))):d(a,"color",t!=null&&t.value?new this.dependencies.obj.THREE.Color(parseInt(t.value,16)):b.testMetal.color)},gem:t=>{typeof t=="number"||typeof t=="string"||typeof t=="boolean"?typeof t=="string"&&r(a,"color",new this.dependencies.obj.THREE.Color(parseInt(t,16))):r(a,"color",t!=null&&t.value?new this.dependencies.obj.THREE.Color(parseInt(t.value,16)):b.testMetal.color)}}})}getDependencies(){return this.dependencies}async getModel(){return await this.modelPromise}showFeature(s){throw new Error("Method not implemented.")}updateFeature(s,i){var r,d;(d=(r=this.upDateFeatureMap)[s.name])==null||d.call(r,i)}};_(b,"testWorld",{scene:3359829,ground:83873694}),_(b,"testGem",{color:8705500,metalness:0,roughness:0,reflectivity:0,ior:1.1,thickness:30,clearcoat:0,transmission:1}),_(b,"testMetal",{color:12496174,metalness:1,roughness:0});let B=b;const Se={id:"gem_id",name:"gem",collect_type:"string",icon:"/src/World/images/gem/gem.png",view:"icon",default_value:{id:"blue_garnet",name:"Grenat bleu",feature_id:"gem_id",icon:["/src/World/images/gem/blue_garnet.png"],code:"2d3563"},components:[{id:"blue_garnet",name:"Grenat bleu",feature_id:"gem_id",icon:["/src/World/images/gem/blue_garnet.png"],code:"2d3563"},{name:"Taaffeite",id:"taaffeite",icon:["/src/World/images/gem/taaffeite.png"],code:"9575ab",feature_id:"gem_id"},{name:"Grandidierite",id:"grandidierite",icon:["/src/World/images/gem/grandidierite.png"],code:"3f7269",feature_id:"gem_id"},{name:"Serendibite",id:"serendibite",icon:["/src/World/images/gem/serendibite.png"],code:"024a3d",feature_id:"gem_id"},{name:"Diamant",id:"diamond",icon:["/src/World/images/gem/diamond.png"],code:"abdcf9",feature_id:"gem_id"},{name:"Rubis",id:"ruby",icon:["/src/World/images/gem/ruby.png"],code:"c24a4a",feature_id:"gem_id"},{name:"Alexandrite",id:"alexandrite",icon:["/src/World/images/gem/alexandrite.png"],code:"0d5a4c",feature_id:"gem_id"},{name:"BÃ©ryl rouge",id:"red_beryl",icon:["/src/World/images/gem/red_beryl.png"],code:"6f4060",feature_id:"gem_id"},{name:"Padparadscha Saphire",id:"padparadscha_saphire",icon:["/src/World/images/gem/padparadscha_saphire.png"],code:"98485d",feature_id:"gem_id"},{name:"Musgravite",id:"musgravite",icon:["/src/World/images/gem/musgravite.png"],code:"b2acad",feature_id:"gem_id"},{name:"Saphir",id:"sapphire",icon:["/src/World/images/gem/sapphire.png"],code:"288fc3",feature_id:"gem_id"},{name:"Benitoite",id:"benitoite",icon:["/src/World/images/gem/benitoite.png"],code:"286bc3",feature_id:"gem_id"},{name:"Opale noire",id:"black_opal",icon:["/src/World/images/gem/black_opal.png"],code:"4c415e",feature_id:"gem_id"},{name:"Grenat dÃ©mantoÃ¯de",id:"demantoid_garnet",icon:["/src/World/images/gem/demantoid_garnet.png"],code:"5cb065",feature_id:"gem_id"},{name:"Poudretteite",id:"poudretteite",icon:["/src/World/images/gem/poudretteite.png"],code:"a770b5",feature_id:"gem_id"},{name:"Opale de feu",id:"fire_opal",icon:["/src/World/images/gem/fire_opal.png"],code:"b38a3c",feature_id:"gem_id"},{name:"Jeremejevite",id:"jeremejevite",icon:["/src/World/images/gem/jeremejevite.png"],code:"99a1ca",feature_id:"gem_id"},{name:"Tanzanite",id:"tanzanite",icon:["/src/World/images/gem/tanzanite.png"],code:"46518a",feature_id:"gem_id"}]},Ce={id:"metal_id",collect_type:"string",name:"metal",icon:"/src/World/images/metal/metal.png",view:"icon",default_value:{id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:58:13",updated_at:"2024-05-20 07:58:13",name:"Gold",description:"gold",images:"[]",icon:["/src/World/images/gem/tanzanite.png"],scene:null,code:"bead2e",key:"gold"},components:[{id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"6bd884a0-82be-414a-ac45-9ef47a866bf8",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:58:13",updated_at:"2024-05-20 07:58:13",name:"Gold",description:"gold",images:"[]",icon:["/src/World/images/metal/gold.png"],scene:null,code:"bead2e",key:"gold"},{id:"5707c6a6-d197-4a7b-8a8c-34150325e514",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"5707c6a6-d197-4a7b-8a8c-34150325e514",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:59:07",updated_at:"2024-05-20 07:59:07",name:"Silver",description:"silver",images:"[]",icon:["/src/World/images/metal/silver.png"],scene:null,code:"eeeeee",key:"silver"},{id:"0af71216-5c1f-40f7-823f-8b25afb20984",product_id:"05e7dc8e-f409-46ae-91cc-6a125add8c5b",component_id:"0af71216-5c1f-40f7-823f-8b25afb20984",feature_id:"2c711848-789a-4ff2-bb14-9b2e3e024485",store_id:"b5b40cb3-29b1-4ada-9aa4-7e26614d6a36",price:12345,unity:"Kg",devise:"$",created_at:"2024-05-20 07:59:57",updated_at:"2024-05-20 08:01:09",name:"Bronze",description:"bronz",images:"[]",icon:["/src/World/images/metal/bronz.png"],scene:null,code:"ffaa55",key:"bronz"}]},ke={limit:25,total:2,page:1,list:[Ce,Se]};function Ee(){var N,p,c;const[n]=v.useState({product3d:void 0,init(l){this.product3d=new De(l)}}),{pathList:s,check:i}=$(),r=v.useRef(null);v.useEffect(()=>{var l;return!n.product3d&&r.current?n.init(r.current):r.current&&((l=n.product3d)==null||l.setCanvas(r.current)),()=>{var g;(g=n.product3d)==null||g.setVisible(!1)}},[r]);const d=ee(r,500,!!i("home"));v.useEffect(()=>{var l;return(l=n.product3d)==null||l.setVisible(d),()=>{var g;(g=n.product3d)==null||g.setVisible(!1)}},[s,d]);const[a,m]=v.useState(void 0),[t,o]=v.useState(void 0),[h,u]=v.useState({});return e.jsxs("div",{className:"product-3d",children:[e.jsxs("div",{className:"canvas-ctn",children:[e.jsx("canvas",{id:"home-canvas-product-3d",ref:r}),e.jsxs("div",{className:"features-ctn",children:[e.jsx("div",{className:"values",children:e.jsx("div",{className:"ctn",children:(N=a==null?void 0:a.components)==null?void 0:N.map((l,g)=>e.jsx("div",{className:"value "+((t==null?void 0:t.id)==l.id?"active":""),style:{background:S(l.icon[0],(t==null?void 0:t.id)==l.id?"80%":"70%")},onClick:()=>{var x,w,j;(t==null?void 0:t.id)==l.id?(o(a.default_value),u({...h,[a.name]:a.default_value}),(w=n.product3d)==null||w.loader.updateFeature(a,(x=a.default_value)==null?void 0:x.code)):(o(l),u({...h,[a.name]:l}),(j=n.product3d)==null||j.loader.updateFeature(a,l.code))}},g))})}),e.jsx("div",{className:"name",children:e.jsx("h4",{children:((p=h[(a==null?void 0:a.name)||""])==null?void 0:p.name)||((c=a==null?void 0:a.default_value)==null?void 0:c.name)})}),e.jsx("div",{className:"features",children:ke.list.map((l,g)=>e.jsx("div",{className:"feature "+((a==null?void 0:a.id)==l.id?"active":""),style:{background:S(l.icon,(a==null?void 0:a.id)==l.id?"70%":"60%")},onClick:()=>{if((a==null?void 0:a.id)==l.id)m(void 0),o(void 0);else{m(l);const x=h[l.name]||l.default_value;u({...h,[l.name]:x}),o(x)}}},g))})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const P={};class De{constructor(s){_(this,"controls");_(this,"renderer");_(this,"visible",!1);_(this,"loader");_(this,"render");this.canvas=s;const i=s.parentElement;this.renderer=new re({canvas:s,alpha:!0,premultipliedAlpha:!1,antialias:!0});const r=75,d=2,a=.1,m=10;this.renderer.domElement=s;const t=new ce(r,d,a,m);t.position.z=2.5,this.controls=new oe(t,s),this.controls.enableDamping=!0,this.controls.maxDistance=2.5,this.controls.minDistance=1.8,this.controls.enablePan=!1,this.controls.dampingFactor=.03,this.controls.enabled=!0;const o=new le;P.model?(console.log("last Cache.model",P.model),this.loader=P.loader,o.add(P.model)):(this.loader=new B,P.loader=this.loader,this.loader.init({GLTFLoader:de,THREE:me}),this.loader.getModel().then(c=>{new he().load("/src/World/images/royal_esplanade_1k.hdr",g=>{g.mapping=ue;const x=c.children[0].children[0].children;for(const w of x)w.material.envMap=g}),o.add(c),P.model=c,console.log("new Cache.model")}));let h=0,u=0;function N(c){const l=i.getBoundingClientRect(),g=h!==l.width||u!==l.height;return g&&(u=l.height,h=l.width,c.setSize(l.width,l.height,!1)),g}const p=this;this.render=function(c){if(p.visible){if(N(p.renderer)){const l=p.renderer.domElement;t.aspect=l.width/l.height,t.updateProjectionMatrix()}p.controls.update(),p.renderer.render(o,t),requestAnimationFrame(p.render)}},requestAnimationFrame(p.render)}setCanvas(s){this.canvas=s,this.controls.domElement=s,this.renderer.domElement=s}setVisible(s){this.visible=s,s&&requestAnimationFrame(this.render)}isVisible(){this.visible}}const $e=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let Te=0;function Me(){const[n,s]=v.useState(1),[i,r]=v.useState();v.useEffect(()=>{if(!i)return r(setInterval(()=>{s(Te++%4+1)},3e3)),()=>{clearInterval(i)}},[i]);const{check:d}=$();return d("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:$e.map(a=>e.jsx("a",{href:`#home/${a.u}`,style:{background:S(a.i)}},a.u))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre",children:e.jsx(Ee,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre",children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(n==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Accessible all over the world 24/7"}),e.jsx("p",{children:"You and your customers will be able to access the content of your store at any time."})]})]}),e.jsxs("div",{className:"info "+(n==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Mobile or desktop"}),e.jsx("p",{children:"The Sublymus platform is available on the web in Mobile, tablet and desktop versions"})]})]}),e.jsxs("div",{className:"info "+(n==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"report issues to customer service"}),e.jsx("p",{children:"to help us improve the platform, report any problems you encounter."})]})]}),e.jsxs("div",{className:"info "+(n==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"quick correction and maintenance"}),e.jsx("p",{children:"We are attentive to your comments and we are working to correct or improve them as quickly as possible."})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(je,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(fe,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre",children:e.jsx(Ne,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre",children:e.jsx(_e,{})})]}),e.jsx("footer",{})]})}function Re(){var Y;const[n]=v.useState(pe()),{current:s,setAbsPath:i,navBack:r,json:d,pathList:a}=$(),{createStore:m,deleteStore:t,editStore:o,selectedStore:h,openChild:u,setStoreById:N,owner:p,exist:c}=y(),[l,g]=v.useState(h||{}),[x,w]=v.useState(h?{url:(s("edit_store")||"")&&`${h.logo[0]}`}:null),[j,W]=v.useState(h?{url:(s("edit_store")||"")&&`${(Y=h.banners)==null?void 0:Y[0]}`}:null),H=X().width<1050?"wrap":"",[A,F]=v.useState(""),[J,G]=v.useState(!1);v.useEffect(()=>{setTimeout(()=>{var f;h&&s("edit_store")&&(g(h),W({url:`${h.banners[0]}`}),w({url:`${(f=h.logo)==null?void 0:f[0]}`}))}),h||(g({}),w(null),W(null))},[h]),v.useEffect(()=>{p&&(d!=null&&d.store_id)&&N(d.store_id)},[d,p]),v.useEffect(()=>{F("")},[a]);const I=s("edit_store"),q=(j==null?void 0:j.url)&&(x==null?void 0:x.url)&&l.name,L=h;return I&&!h?e.jsx("div",{className:"store-select-btn",onClick:()=>{i(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[h&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>r()}),e.jsx(ve,{terme:"dark",deteleKey:h.id,mode:"delete",onDelete:()=>{t(h.id).then(f=>{f&&i(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${M}/demo/${h.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${M}/${h==null?void 0:h.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+H,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(h?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(j!=null&&j.url?"":"void"),style:j!=null&&j.url?{background:S((j==null?void 0:j.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(j==null?void 0:j.url)&&e.jsx("div",{className:"open",onClick:()=>{u(e.jsx("div",{className:"big-img",onClick:()=>u(void 0,!1),children:e.jsx("div",{className:"img",style:{background:S((j==null?void 0:j.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:n+"banner",style:{display:"none"},onChange:f=>{var T;const C=(T=f.currentTarget.files)==null?void 0:T[0];C&&W({file:C,url:URL.createObjectURL(C)})}}),e.jsx("label",{htmlFor:n+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(x!=null&&x.url?"":"void"),style:x!=null&&x.url?{background:S((x==null?void 0:x.url)||"")}:{},onClick:f=>{f.currentTarget==f.target&&x!=null&&x.url&&u(e.jsx("div",{className:"big-img",onClick:()=>u(void 0,!1),children:e.jsx("div",{className:"img",style:{background:S((x==null?void 0:x.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:n+"logo",style:{display:"none"},onChange:f=>{var T;const C=(T=f.currentTarget.files)==null?void 0:T[0];C&&w({file:C,url:URL.createObjectURL(C)})}}),e.jsx("label",{htmlFor:n+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:l.name}),e.jsx("div",{className:"owner-email",children:l.store_email}),e.jsx("div",{className:"id",children:l.id&&`#${l.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:h?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:h?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:h?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:l.website}),e.jsx("div",{className:"phone",children:l.phone})]})]}),h&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(L)),window.open(`${M}/${l.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(L)),window.open(`${M}/${l.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:j!=null&&j.url?"available":"no-available",htmlFor:n+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:x!=null&&x.url?"available":"no-available",htmlFor:n+"logo",children:["Logo ",e.jsx("span",{})]})]}),I&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:n+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:n+"id",value:l.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:A=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:A=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:n+"name",value:l.name||"",placeholder:"Name",onChange:f=>{var T;const C=f.currentTarget.value;C.trim().length<3?F("no"):(T=c(C))==null||T.then(z=>{F(z?"no":"yes"),console.log(C,A,z,z?"no":"yes")}),g({...l,name:C})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"phone",value:l.phone||"",placeholder:"Phone",onChange:f=>{g({...l,phone:f.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:n+"store_email",value:l.store_email||"",placeholder:"Store email",onChange:f=>{g({...l,store_email:f.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"website",value:l.website||"",placeholder:"Web Site",onChange:f=>{g({...l,website:f.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"description",value:l.description||"",placeholder:"Description",onChange:f=>{g({...l,description:f.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:n+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:n+"address",value:l.address,placeholder:"Address",onChange:f=>{g({...l,address:f.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:q?"":"#345"},onClick:()=>{!q||J||(G(!0),I?h&&o({...l,banners:j,logo:x,store_id:h==null?void 0:h.id}).then(f=>{G(!1),f&&i(["store_list"])}):m({...l,banners:j,logo:x}).then(f=>{setTimeout(()=>{G(!1)},100),f!=null&&f.id&&f&&i(["store_list"])}))},children:J?e.jsx("div",{className:"loading"}):`${I?"Edit":"Create"} Store`})})]})]})]})}function Pe(){const{check:n,current:s,setAbsPath:i,qs:r,navBack:d,pathList:a}=$(),{owner:m,stores:t,owner_stores:o,setSelectedStore:h}=y();return v.useEffect(()=>{m&&n("store_list")&&o({text:""})},[a,m]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>d()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:u=>{o({text:u.currentTarget.value})}})]}),m&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{h(void 0),i(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:se,children:t==null?void 0:t.list.map(u=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:S(u.banners[0])},onClick:()=>{h(u),r({store_id:u.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:S(u.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:u.name}),e.jsx("div",{className:"owner-email",children:u.store_email}),e.jsxs("div",{className:"id",children:["#",u.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:u.website}),e.jsx("div",{className:"phone",children:u.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(u)),window.open(`${M}/${u.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(u)),window.open(`${M}/${u.name}/dash`)},children:"DASH"})]})]})]}))})]})}const V=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function We(){var p;const{setAbsPath:n,pathList:s}=$(),[i,r]=v.useState(s[1]||"home"),[d,a]=v.useState(!1),[m,t]=v.useState(!1),{owner:o,createOwner:h}=y(),u=X(),N=c=>{n([c]),r(c)};return v.useEffect(()=>{r(s[1]||"home")},[s]),v.useEffect(()=>{window.addEventListener("click",()=>{const c=document.querySelector(".top-bar .more-navs ul");(c==null?void 0:c.className)==""&&t(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:te(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${M}/web#home`,className:"logo-ctn",onClick:()=>{N("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:V.map((c,l)=>l*200<u.width-400?e.jsxs("li",{className:i==c.u?"active":"",onClick:()=>N(c.u),children:[e.jsx("span",{style:{background:S(c.i,"80%")}}),c.n]},l):null)}),e.jsx("div",{className:"ctn-icon",onClick:c=>{c.preventDefault(),c.stopPropagation(),t(!m)},children:e.jsx("div",{className:"icon"})}),o?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(p=o==null?void 0:o.photos[0])!=null&&p.startsWith("/")?D:""}${o==null?void 0:o.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>h(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:c=>{c.preventDefault(),c.stopPropagation()},children:e.jsxs("ul",{className:m?"":"close",children:[V.map((c,l)=>l*200>=u.width-400?e.jsxs("li",{className:i==c.u?"active":"",onClick:()=>N(c.u),children:[e.jsx("span",{style:{background:S(c.i,"80%")}}),c.n]},l):null),e.jsxs("li",{className:i=="mode-lite"?"active":"",onClick:()=>{a(!d)},children:[e.jsx("span",{style:{background:S("/src/res/mark.png","70%")}}),d?"Lite mode off":"Lite mode on"]})]})})]})}function Oe(){const{tryToken:n,blur:s,currentChild:i,openChild:r,back_color:d}=y(),{pathList:a}=$();return v.useEffect(()=>{r(void 0)},[a]),v.useEffect(()=>{n()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(We,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(Me,{}),e.jsx(Re,{}),e.jsx(Pe,{})]})]}),i&&e.jsx("div",{className:"child-viewer",onContextMenu:m=>{m.preventDefault(),r(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:d},onClick:()=>{r(void 0)},onContextMenu:m=>{m.preventDefault(),r(void 0)},children:i})})]})}const He=n=>n,Be=He(e.jsx(ne.StrictMode,{children:e.jsx(Oe,{})}));export{Be as WebView};

import{j as e,g as f,u as R,b as U,a as q}from"./BindToParentScroll-GG8jF1u-.js";import{c as B,S as W,H as b,r as x,L as _,R as G}from"./index-_uSW6vAW.js";import{g as X,E as Y}from"./EditorTopBar-D0INOKut.js";const V={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},N=B(t=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${b}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var i,n;const a=(i=N.getState().stores)==null?void 0:i.list.find(m=>m.id==s);if(a)return t(()=>({selectedStore:a}));{const m=(n=await N.getState().fetchStores({text:"#"+s}))==null?void 0:n.list[0];if(m)return t(()=>({selectedStore:m}))}},async fetchStores(s){const a=N.getState().owner;if(!a)return;s.owner_id=a.id,console.log({filter:s});const i=new URLSearchParams({});for(const c in s){const d=s[c];i.set(c,d)}const n=new Headers;n.append("Authorization",`Bearer ${a.token}`);const r=await(await fetch(`${b}/get_stores/?${i}`,{headers:n})).json();if(r!=null&&r.list)return t(()=>({stores:r})),r},openChild(s,a,i){t(()=>({currentChild:s,blur:a,back_color:s&&i||""}))},async deleteStore(s){const a=N.getState().owner;if(!a)return!1;const i=new Headers;i.append("Authorization",`Bearer ${a.token}`);const n={method:"DELETE",headers:i},m=await fetch(`${b}/delete_store/${s}`,n);try{const r=await m.json();return N.getState().owner_stores({}),r==null?void 0:r.deleted}catch{return!1}},setSelectedStore(s){t(()=>({selectedStore:s}))},async disconnection(){const s=N.getState().owner;if(s){const a=new Headers;a.append("Authorization",`Bearer ${s.token}`);const i={method:"GET",headers:a};await fetch(`${b}/disconnection`,i)}localStorage.removeItem("user"),t(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const a=JSON.parse(s),i=new Headers;i.append("Authorization",`Bearer ${a.token}`);const n={method:"GET",headers:i};let r=await(await fetch(`${b}/me`,n)).json();if(!(r!=null&&r.id))return localStorage.removeItem("user");N.getState().owner_stores({}),r={token:a.token,...r},t(()=>({owner:r})),localStorage.setItem("user",JSON.stringify(r))},async owner_stores(s){const a=N.getState().owner;if(!a)return;s.owner_id=a.id;const i=new URLSearchParams({});for(const c in s){const d=s[c];i.set(c,d)}const n=new Headers;n.append("Authorization",`Bearer ${a.token}`);const r=await(await fetch(`${b}/get_stores/?${i}`,{headers:n})).json();if(r!=null&&r.list)return console.log(r.list),t(()=>({stores:r})),r},async editStore(s){const a=N.getState().owner;if(!a)return;const i=new Headers;i.append("Authorization",`Bearer ${a.token}`);const n=new FormData;Object.keys(s).forEach((c,d)=>{console.log("data",d,c,s[c]),c=="banners"?s[c].file?(console.log("new File",s[c].file),n.append(c,JSON.stringify(["banners_0"])),n.append("banners_0",s[c].file)):s[c].url&&(n.append(c,JSON.stringify([s[c].url])),console.log("keep same",JSON.stringify(s[c]))):c=="logo"?s[c].file?(console.log("new File",s[c].file),n.append(c,JSON.stringify(["logo_0"])),n.append("logo_0",s[c].file)):s[c].url&&(n.append(c,JSON.stringify([s[c].url])),console.log("keep same",JSON.stringify(s[c]))):n.append(c,s[c])});const m={method:"PUT",body:n,headers:i},r=await fetch(`${b}/update_store`,m);try{const c=await r.json();return N.getState().owner_stores({}),c}catch(c){console.log(c.message);return}},async createStore(s){try{const a=N.getState().owner;if(!a)return;const i=new Headers;i.append("Authorization",`Bearer ${a.token}`);const n=new FormData;console.log(s),Object.keys(s).forEach(d=>{d=="logo"&&(n.append(d,JSON.stringify(["logo_0"])),n.append("logo_0",s[d].file)),d=="banners"?(n.append(d,JSON.stringify(["banners_0"])),n.append("banners_0",s[d].file)):n.append(d,s[d])});const m={method:"POST",body:n,headers:i},c=await(await fetch(`${b}/create_store`,m)).json();return N.getState().owner_stores({}),c}catch(a){return a}},async createOwner(){window.open(`${b}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const a=localStorage.getItem("user"),i=a&&JSON.parse(a);i&&(t(()=>({owner:i})),clearInterval(s),N.getState().owner_stores({}),k.getState().setAbsPath(["store_list"]))},100)}})),k=new W(V,["/","home"]).getStore();let K=0;function $({icon:t,infos:s,text:a,title:i,link:n,id:m}){return e.jsxs("a",{href:n,id:m,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+K++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[t&&e.jsx("div",{className:"icon",style:{background:f(t,"90%")}}),e.jsx("h1",{className:"title",children:i}),e.jsx("p",{children:a}),s==null?void 0:s.map((r,c)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:f(r.icon,"90%")}}),e.jsx("div",{className:"text",children:r.text})]},c))]})]})}function Q(){const t=(i,n=50)=>{const r=100*i-n*.5,c=100-(r+n);return{transformOrigin:`${-r}px 25px`,right:`${c}px`}},s=i=>({scale:`${i}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:t(2*.3,20)}),e.jsx("div",{className:"planet2",style:t(2*.6,40)}),e.jsx("div",{className:"planet3",style:t(2*.9)}),e.jsx("div",{className:"planet4",style:t(2*1.15,40)}),e.jsx("div",{className:"planet5",style:t(2*1.4,70)}),e.jsx("div",{className:"planet6",style:t(2*1.65)}),e.jsx("div",{className:"planet7",style:t(2*2)})]})})}function Z(){const[t,s]=x.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(t=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(t=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(t=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(t=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(t=="discussion"?"active":"")}),e.jsx("div",{className:"ctn-group "+(t=="group"?"active":"")})]})]})}function ee(){const{pathList:t,check:s}=k(),[a,i]=x.useState(0),[n,m]=x.useState(0),[r,c]=x.useState(0),[d]=x.useState({time:0,id:void 0,start:0,count:0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{this.time=Date.now()-this.start,this.count++,i(this.count)},5e3))}});return x.useEffect(()=>(s("home")&&!d.id&&d.init(),()=>{d.stop()}),[d,t]),e.jsxs("div",{className:"interface-change",onMouseMove:l=>{const o=l.currentTarget.getBoundingClientRect(),y=o.x+o.width/2,w=o.y+o.height/2;m((l.clientX-y)/(o.width/2)),c(-(l.clientY-w)/(o.height/2))},onTouchMove:l=>{const o=l.currentTarget.getBoundingClientRect(),y=o.x+o.width/2,w=o.y+o.height/2;m((l.touches[0].clientX-y)/(o.width/2)),c(-(l.touches[0].clientY-w)/(o.height/2))},children:[e.jsxs("div",{className:"left-side",children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${Math.PI*n*.05}rad) rotateX(${Math.PI*r*.05}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(a%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(a%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(a%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(a%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(a%4==0?"active":"")}),e.jsx("div",{className:"icon2 "+(a%4==1?"active":"")}),e.jsx("div",{className:"icon3 "+(a%4==2?"active":"")}),e.jsx("div",{className:"icon4 "+(a%4==3?"active":"")})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"e currentTarget getBounding ClientRect()"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"4"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"5"})," Info Tiltle Let see"]}),e.jsx("p",{className:"text",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Autem officiis natus necessitatibus dolores aperiam reiciendis doloribus,"})]})]})]})}const se=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let te=0;function ae(){const[t,s]=x.useState(1),[a,i]=x.useState();x.useEffect(()=>{if(!a)return i(setInterval(()=>{s(te++%4+1)},3e3)),()=>{clearInterval(a)}},[a]);const{check:n}=k();return n("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:se.map(m=>e.jsx("a",{href:`#home/${m.u}`,style:{background:f(m.i)}}))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx($,{id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx($,{id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx($,{id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre",children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(t==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(t==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(t==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]}),e.jsxs("div",{className:"info "+(t==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"compatibility with all stores"}),e.jsx("p",{children:"follow your customers, add chat collaborators with everyone, organize your team compatibility with all stores"})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(Q,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(Z,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx($,{id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre",children:e.jsx(ee,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx($,{id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre"})]})]})}function ie(){var L;const[t]=x.useState(X()),{current:s,setAbsPath:a,navBack:i,json:n,pathList:m}=k(),{createStore:r,deleteStore:c,editStore:d,selectedStore:l,openChild:o,setStoreById:y,owner:w,exist:p}=N(),[u,S]=x.useState(l||{}),[v,O]=x.useState(l?{url:(s("edit_store")||"")&&`${l.logo[0]}`}:null),[j,I]=x.useState(l?{url:(s("edit_store")||"")&&`${(L=l.banners)==null?void 0:L[0]}`}:null),M=R().width<1050?"wrap":"",[E,P]=x.useState(""),[F,A]=x.useState(!1);x.useEffect(()=>{setTimeout(()=>{var h;l&&s("edit_store")&&(S(l),I({url:`${l.banners[0]}`}),O({url:`${(h=l.logo)==null?void 0:h[0]}`}))}),l||(S({}),O(null),I(null))},[l]),x.useEffect(()=>{w&&(n!=null&&n.store_id)&&y(n.store_id)},[n,w]),x.useEffect(()=>{P("")},[m]);const T=s("edit_store"),H=(j==null?void 0:j.url)&&(v==null?void 0:v.url)&&u.name,J=l;return T&&!l?e.jsx("div",{className:"store-select-btn",onClick:()=>{a(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[l&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>i()}),e.jsx(Y,{terme:"dark",deteleKey:l.id,mode:"delete",onDelete:()=>{c(l.id).then(h=>{h&&a(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(l)),window.open(`${_}/demo/${l.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(l)),window.open(`${_}/${l==null?void 0:l.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+M,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(l?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(j!=null&&j.url?"":"void"),style:j!=null&&j.url?{background:f((j==null?void 0:j.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(j==null?void 0:j.url)&&e.jsx("div",{className:"open",onClick:()=>{o(e.jsx("div",{className:"big-img",onClick:()=>o(void 0,!1),children:e.jsx("div",{className:"img",style:{background:f((j==null?void 0:j.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:t+"banner",style:{display:"none"},onChange:h=>{var C;const g=(C=h.currentTarget.files)==null?void 0:C[0];g&&I({file:g,url:URL.createObjectURL(g)})}}),e.jsx("label",{htmlFor:t+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(v!=null&&v.url?"":"void"),style:v!=null&&v.url?{background:f((v==null?void 0:v.url)||"")}:{},onClick:h=>{h.currentTarget==h.target&&v!=null&&v.url&&o(e.jsx("div",{className:"big-img",onClick:()=>o(void 0,!1),children:e.jsx("div",{className:"img",style:{background:f((v==null?void 0:v.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:t+"logo",style:{display:"none"},onChange:h=>{var C;const g=(C=h.currentTarget.files)==null?void 0:C[0];g&&O({file:g,url:URL.createObjectURL(g)})}}),e.jsx("label",{htmlFor:t+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:u.name}),e.jsx("div",{className:"owner-email",children:u.store_email}),e.jsx("div",{className:"id",children:u.id&&`#${u.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:l?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:l?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:l?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:u.website}),e.jsx("div",{className:"phone",children:u.phone})]})]}),l&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(J)),window.open(`${_}/${u.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(J)),window.open(`${_}/${u.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:j!=null&&j.url?"available":"no-available",htmlFor:t+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:v!=null&&v.url?"available":"no-available",htmlFor:t+"logo",children:["Logo ",e.jsx("span",{})]})]}),T&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:t+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:t+"id",value:u.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:E=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:E=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:t+"name",value:u.name||"",placeholder:"Name",onChange:h=>{var C;const g=h.currentTarget.value;g.trim().length<3?P("no"):(C=p(g))==null||C.then(D=>{P(D?"no":"yes"),console.log(g,E,D,D?"no":"yes")}),S({...u,name:g})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:t+"phone",value:u.phone||"",placeholder:"Phone",onChange:h=>{S({...u,phone:h.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:t+"store_email",value:u.store_email||"",placeholder:"Store email",onChange:h=>{S({...u,store_email:h.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:t+"website",value:u.website||"",placeholder:"Web Site",onChange:h=>{S({...u,website:h.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:t+"description",value:u.description||"",placeholder:"Description",onChange:h=>{S({...u,description:h.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:t+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:t+"address",value:u.address,placeholder:"Address",onChange:h=>{S({...u,address:h.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:H?"":"#345"},onClick:()=>{!H||F||(A(!0),T?l&&d({...u,banners:j,logo:v,store_id:l==null?void 0:l.id}).then(h=>{A(!1),h&&a(["store_list"])}):r({...u,banners:j,logo:v}).then(h=>{setTimeout(()=>{A(!1)},100),h!=null&&h.id&&h&&a(["store_list"])}))},children:F?e.jsx("div",{className:"loading"}):`${T?"Edit":"Create"} Store`})})]})]})]})}function ne(){const{check:t,current:s,setAbsPath:a,qs:i,navBack:n,pathList:m}=k(),{owner:r,stores:c,owner_stores:d,setSelectedStore:l}=N();return x.useEffect(()=>{r&&t("store_list")&&d({text:""})},[m,r]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>n()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:o=>{d({text:o.currentTarget.value})}})]}),r&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{l(void 0),a(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:U,children:c==null?void 0:c.list.map(o=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:f(o.banners[0])},onClick:()=>{l(o),i({store_id:o.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:f(o.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:o.name}),e.jsx("div",{className:"owner-email",children:o.store_email}),e.jsxs("div",{className:"id",children:["#",o.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:o.website}),e.jsx("div",{className:"phone",children:o.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(o)),window.open(`${_}/${o.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(o)),window.open(`${_}/${o.name}/dash`)},children:"DASH"})]})]})]}))})]})}const z=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function ce(){var w;const{setAbsPath:t,pathList:s}=k(),[a,i]=x.useState(s[1]||"home"),[n,m]=x.useState(!1),[r,c]=x.useState(!1),{owner:d,createOwner:l}=N(),o=R(),y=p=>{t([p]),i(p)};return x.useEffect(()=>{i(s[1]||"home")},[s]),x.useEffect(()=>{window.addEventListener("click",()=>{const p=document.querySelector(".top-bar .more-navs ul");(p==null?void 0:p.className)==""&&c(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:q(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${_}/web#home`,className:"logo-ctn",onClick:()=>{y("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:z.map((p,u)=>u*200<o.width-400?e.jsxs("li",{className:a==p.u?"active":"",onClick:()=>y(p.u),children:[e.jsx("span",{style:{background:f(p.i,"80%")}}),p.n]}):e.jsx(e.Fragment,{}))}),e.jsx("div",{className:"ctn-icon",onClick:p=>{p.preventDefault(),p.stopPropagation(),c(!r)},children:e.jsx("div",{className:"icon"})}),d?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(w=d==null?void 0:d.photos[0])!=null&&w.startsWith("/")?b:""}${d==null?void 0:d.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>l(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:p=>{p.preventDefault(),p.stopPropagation()},children:e.jsxs("ul",{className:r?"":"close",children:[z.map((p,u)=>u*200>=o.width-400?e.jsxs("li",{className:a==p.u?"active":"",onClick:()=>y(p.u),children:[e.jsx("span",{style:{background:f(p.i,"80%")}}),p.n]}):e.jsx(e.Fragment,{})),e.jsxs("li",{className:a=="mode-lite"?"active":"",onClick:()=>{m(!n)},children:[e.jsx("span",{style:{background:f("/src/res/mark.png","70%")}}),n?"Lite mode off":"Lite mode on"]})]})})]})}function re(){const{tryToken:t,blur:s,currentChild:a,openChild:i,back_color:n}=N(),{pathList:m}=k();return x.useEffect(()=>{i(void 0)},[m]),x.useEffect(()=>{t()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(ce,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(ae,{}),e.jsx(ie,{}),e.jsx(ne,{})]})]}),a&&e.jsx("div",{className:"child-viewer",onContextMenu:r=>{r.preventDefault(),i(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:n},onClick:()=>{i(void 0)},onContextMenu:r=>{r.preventDefault(),i(void 0)},children:a})})]})}const le=t=>t,ue=le(e.jsx(G.StrictMode,{children:e.jsx(re,{})}));export{ue as WebView};

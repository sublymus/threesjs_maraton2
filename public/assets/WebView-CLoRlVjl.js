var K=Object.defineProperty;var Q=(i,s,a)=>s in i?K(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a;var E=(i,s,a)=>(Q(i,typeof s!="symbol"?s+"":s,a),a);import{j as e,g as C,u as X,b as Z,a as ee}from"./BindToParentScroll-CDZ-v6IK.js";import{c as se,S as te,H as $,r as v,L as R,R as ae}from"./index-Dyx5oUVE.js";import{W as ie,P as ne,O as re,S as ce,G as oe,T as le,R as de,E as he}from"./RGBELoader-CBpcoxa-.js";import{g as me,E as ue}from"./EditorTopBar-D5_w_--l.js";const pe={"/":{new_store:{},edit_store:{},home:{},about:{},stores:{},contact:{},store_list:{}}},y=se(i=>({owner:void 0,stores:void 0,selectedStore:void 0,currentChild:void 0,back_color:"",blur:!1,async exist(s){return(await(await fetch(`${$}/check_store/?store_name=${s}`)).json()).exist==!0},async setStoreById(s){var r,c;const a=(r=y.getState().stores)==null?void 0:r.list.find(d=>d.id==s);if(a)return i(()=>({selectedStore:a}));{const d=(c=await y.getState().fetchStores({text:"#"+s}))==null?void 0:c.list[0];if(d)return i(()=>({selectedStore:d}))}},async fetchStores(s){const a=y.getState().owner;if(!a)return;s.owner_id=a.id,console.log({filter:s});const r=new URLSearchParams({});for(const t in s){const l=s[t];r.set(t,l)}const c=new Headers;c.append("Authorization",`Bearer ${a.token}`);const o=await(await fetch(`${$}/get_stores/?${r}`,{headers:c})).json();if(o!=null&&o.list)return i(()=>({stores:o})),o},openChild(s,a,r){i(()=>({currentChild:s,blur:a,back_color:s&&r||""}))},async deleteStore(s){const a=y.getState().owner;if(!a)return!1;const r=new Headers;r.append("Authorization",`Bearer ${a.token}`);const c={method:"DELETE",headers:r},d=await fetch(`${$}/delete_store/${s}`,c);try{const o=await d.json();return y.getState().owner_stores({}),o==null?void 0:o.deleted}catch{return!1}},setSelectedStore(s){i(()=>({selectedStore:s}))},async disconnection(){const s=y.getState().owner;if(s){const a=new Headers;a.append("Authorization",`Bearer ${s.token}`);const r={method:"GET",headers:a};await fetch(`${$}/disconnection`,r)}localStorage.removeItem("user"),i(()=>({owner:void 0,stores:void 0,selectedStore:void 0}))},async tryToken(){const s=localStorage.getItem("user");if(!s)return;const a=JSON.parse(s),r=new Headers;r.append("Authorization",`Bearer ${a.token}`);const c={method:"GET",headers:r};let o=await(await fetch(`${$}/me`,c)).json();if(!(o!=null&&o.id))return localStorage.removeItem("user");y.getState().owner_stores({}),o={token:a.token,...o},i(()=>({owner:o})),localStorage.setItem("user",JSON.stringify(o))},async owner_stores(s){const a=y.getState().owner;if(!a)return;s.owner_id=a.id;const r=new URLSearchParams({});for(const t in s){const l=s[t];r.set(t,l)}const c=new Headers;c.append("Authorization",`Bearer ${a.token}`);const o=await(await fetch(`${$}/get_stores/?${r}`,{headers:c})).json();if(o!=null&&o.list)return console.log(o.list),i(()=>({stores:o})),o},async editStore(s){const a=y.getState().owner;if(!a)return;const r=new Headers;r.append("Authorization",`Bearer ${a.token}`);const c=new FormData;Object.keys(s).forEach((t,l)=>{console.log("data",l,t,s[t]),t=="banners"?s[t].file?(console.log("new File",s[t].file),c.append(t,JSON.stringify(["banners_0"])),c.append("banners_0",s[t].file)):s[t].url&&(c.append(t,JSON.stringify([s[t].url])),console.log("keep same",JSON.stringify(s[t]))):t=="logo"?s[t].file?(console.log("new File",s[t].file),c.append(t,JSON.stringify(["logo_0"])),c.append("logo_0",s[t].file)):s[t].url&&(c.append(t,JSON.stringify([s[t].url])),console.log("keep same",JSON.stringify(s[t]))):c.append(t,s[t])});const d={method:"PUT",body:c,headers:r},o=await fetch(`${$}/update_store`,d);try{const t=await o.json();return y.getState().owner_stores({}),t}catch(t){console.log(t.message);return}},async createStore(s){try{const a=y.getState().owner;if(!a)return;const r=new Headers;r.append("Authorization",`Bearer ${a.token}`);const c=new FormData;console.log(s),Object.keys(s).forEach(l=>{l=="logo"&&(c.append(l,JSON.stringify(["logo_0"])),c.append("logo_0",s[l].file)),l=="banners"?(c.append(l,JSON.stringify(["banners_0"])),c.append("banners_0",s[l].file)):c.append(l,s[l])});const d={method:"POST",body:c,headers:r},t=await(await fetch(`${$}/create_store`,d)).json();return y.getState().owner_stores({}),t}catch(a){return a}},async createOwner(){window.open(`${$}/google_connexion`,void 0,"popup");const s=setInterval(()=>{const a=localStorage.getItem("user"),r=a&&JSON.parse(a);r&&(i(()=>({owner:r})),clearInterval(s),y.getState().owner_stores({}),_.getState().setAbsPath(["store_list"]))},100)}})),_=new te(pe,["/","home"]).getStore();let xe=0;function O({icon:i,infos:s,text:a,title:r,id:c}){return e.jsxs("div",{id:c,className:"card-flyer",children:[e.jsx("div",{className:"back-flyer",style:{background:`linear-gradient(${Math.trunc(Math.random()*180+xe++*20)}deg, #408DD5 0%, #630B8C 100%)`}}),e.jsxs("div",{className:"front-flyer",children:[i&&e.jsx("div",{className:"icon",style:{background:C(i,"90%")}}),e.jsx("h1",{className:"title",children:r}),e.jsx("p",{children:a}),s==null?void 0:s.map((d,o)=>e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",style:{background:C(d.icon,"90%")}}),e.jsx("div",{className:"text",children:d.text})]},o))]})]})}function ve(){const i=(r,c=50)=>{const o=100*r-c*.5,t=100-(o+c);return{transformOrigin:`${-o}px 25px`,right:`${t}px`}},s=r=>({scale:`${r}`});return e.jsx("div",{className:"solary-system",children:e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"circle1",style:s(2*.3)}),e.jsx("div",{className:"circle2",style:s(2*.6)}),e.jsx("div",{className:"circle3",style:s(2*.9)}),e.jsx("div",{className:"circle4",style:s(2*1.15)}),e.jsx("div",{className:"circle5",style:s(2*1.4)}),e.jsx("div",{className:"circle6",style:s(2*1.65)}),e.jsx("div",{className:"circle7",style:s(2*2)}),e.jsx("div",{className:"sun"}),e.jsx("div",{className:"planet1",style:i(2*.3,20)}),e.jsx("div",{className:"planet2",style:i(2*.6,40)}),e.jsx("div",{className:"planet3",style:i(2*.9)}),e.jsx("div",{className:"planet4",style:i(2*1.15,40)}),e.jsx("div",{className:"planet5",style:i(2*1.4,70)}),e.jsx("div",{className:"planet6",style:i(2*1.65)}),e.jsx("div",{className:"planet7",style:i(2*2)})]})})}function je(){const[i,s]=v.useState("session");return e.jsxs("div",{className:"client-chat",children:[e.jsxs("div",{className:"top-onglet",children:[e.jsx("div",{className:"session "+(i=="session"?"active":""),onClick:()=>{s("session")},children:"Session"}),e.jsx("div",{className:"discussion "+(i=="discussion"?"active":""),onClick:()=>{s("discussion")},children:"Discussion"}),e.jsx("div",{className:"group "+(i=="group"?"active":""),onClick:()=>{s("group")},children:"Group"})]}),e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"ctn-session "+(i=="session"?"active":""),children:e.jsxs("div",{className:"view-session",children:[e.jsxs("div",{className:"client1 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsxs("div",{className:"client2 user",children:[e.jsx("div",{className:"label",children:"Client"}),e.jsx("div",{className:"client2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"collaborator user",children:e.jsx("div",{className:"label",children:"Collaborator"})})]})}),e.jsx("div",{className:"ctn-discussion "+(i=="discussion"?"active":""),children:e.jsxs("div",{className:"view-discussion",children:[e.jsxs("div",{className:"collabo1 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo1-c conect",children:e.jsx("div",{className:"message-c1 message"})})]}),e.jsx("div",{className:"collabo1-collabo2 conect",children:e.jsx("div",{style:{position:"relative"},children:e.jsx("div",{className:"message-c3 message"})})}),e.jsxs("div",{className:"collabo2 user",children:[e.jsx("div",{className:"label",children:"Collaborator"}),e.jsx("div",{className:"collabo2-c conect",children:e.jsx("div",{className:"message-c2 message"})})]}),e.jsx("div",{className:"admin user",children:e.jsx("div",{className:"label",children:"Admin"})})]})}),e.jsx("div",{className:"ctn-group "+(i=="group"?"active":"")})]})]})}function Ne(){const{pathList:i,check:s}=_(),[a,r]=v.useState(0),[c,d]=v.useState(0),[o,t]=v.useState(0),[l]=v.useState({time:0,id:void 0,start:0,count:0,stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{this.time=Date.now()-this.start,this.count++,r(this.count)},5e3))}});return v.useEffect(()=>(s("home")&&!l.id&&l.init(),()=>{l.stop()}),[l,i]),e.jsxs("div",{className:"interface-change",children:[e.jsxs("div",{className:"left-side",onMouseMove:h=>{const m=h.currentTarget.getBoundingClientRect(),f=m.y+m.height/2;d((h.clientX-m.x)/(m.width/2)),t((h.clientY-f)/(m.height/2))},onTouchMove:h=>{const m=h.currentTarget.getBoundingClientRect(),f=m.y+m.height/2;d((h.touches[0].clientX-m.x)/(m.width/2)),t((h.touches[0].clientY-f)/(m.height/2))},children:[e.jsxs("div",{className:"ctn-monitor",style:{transform:`rotateY(${-Math.PI*c*.1}rad) rotateX(${Math.PI*o*.1}rad)`},children:[e.jsx("div",{className:"monitor"}),e.jsx("div",{className:"interfaces-ctn",children:e.jsxs("div",{className:"interfaces",children:["By NG",e.jsx("div",{className:"interface1 "+(a%4==0?"active":"hide")}),e.jsx("div",{className:"interface2 "+(a%4==1?"active":"hide")}),e.jsx("div",{className:"interface3 "+(a%4==2?"active":"hide")}),e.jsx("div",{className:"interface4 "+(a%4==3?"active":"hide")})]})})]}),e.jsxs("div",{className:"icons",children:[e.jsx("div",{className:"icon1 "+(a%4==0?"active":"")}),e.jsx("div",{className:"icon2 "+(a%4==1?"active":"")}),e.jsx("div",{className:"icon3 "+(a%4==2?"active":"")}),e.jsx("div",{className:"icon4 "+(a%4==3?"active":"")})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}const k=250,P=10;let Y=0,ge=0;const fe=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aut","Sep","Oct","Nov","Dec"],D=[5,8,7,3,1,8,2,6],be=["#402E7A","#4C3BCF","#4B70F5","#3DC2EC","#49243E","#704264","#BB8493","#DBAFA0"];function ye(){var f;const{check:i,pathList:s}=_(),a=v.useRef(null),r=v.useRef(null),[c,d]=v.useState({v:void 0}),[o,t]=v.useState(Array.from({length:P},(u,n)=>n/P*k)),[l]=v.useState({time:0,id:void 0,start:0,count:0,y:0,touchDate:void 0,isHover:!1,pie:{touchDate:void 0,isHover:!1,x:0,y:0},stop(){clearInterval(this.id||0),this.id=void 0},init(){this.id||(this.start=Date.now(),this.id=setInterval(()=>{if(this.time=Date.now()-this.start,Y++,this.touchDate)o.shift(),o.push(this.y),t([...o]),this.count++;else if(ge++%30==0){o.shift();const u=Math.cos(Y/80),n=k*(u*.5+.5);o.push(n>k?k:n<0?0:n),t([...o]),this.count++}if(Date.now()-(this.touchDate||0)>1e3&&(this.touchDate=void 0),this.pie.touchDate){let u=180*(Math.atan2(this.pie.y,this.pie.x)/Math.PI);u=u+(1-(Math.abs(this.pie.y)/this.pie.y*.5+.5))*360,u+=90,u-=u>360&&u<450?360:0;const n=D.reduce((p,g)=>p+g);D.find((p,g)=>{const x=D[g]/n*360;let w=0;D.find((V,H)=>{if(H==g)return!0;w+=D[H]/n*360});const j=w,M=w+x;return u<M&&u>j?(d({v:g}),!0):!1})}else c.v=void 0,d(c);Date.now()-(this.pie.touchDate||0)>1e3&&(this.pie.touchDate=void 0)},30))}});v.useEffect(()=>(i("home")&&!l.id&&l.init(),()=>{l.stop()}),[s]);let h=(((f=a.current)==null?void 0:f.getBoundingClientRect().width)||0)/o.length;const m=[0,k,...o.map((u,n)=>[h*n,k-Math.trunc(u)]).flat(1),h*(P-1),k];return e.jsxs("div",{className:"bar-chart",children:[e.jsx("div",{className:"bar-top",children:e.jsxs("div",{className:"chart-ctn",ref:a,onMouseMove:u=>{const n=u.currentTarget.getBoundingClientRect();l.y=n.y+n.height-u.clientY,l.touchDate=Date.now()},onTouchMove:u=>{const n=u.currentTarget.getBoundingClientRect();l.y=n.y+n.height-u.touches[0].clientY,l.touchDate=Date.now()},children:[Array.from({length:P},(u,n)=>n/P*k).map((u,n)=>e.jsx("div",{className:"val",style:{left:"-15px",position:"absolute",top:`calc(${(1-n/P)*k}px - 1em)`},children:Math.trunc(u/k*100)/10},n)),e.jsx("div",{className:"hand-ctn",style:{bottom:`${o[o.length-1]}px`},children:e.jsxs("div",{className:"hand",style:{transform:"translateY(-0.5em)"},children:["ðŸ‘ˆ ",Math.trunc(o[o.length-1]/k*100)/10]})}),e.jsxs("svg",{className:"svg-lines",style:{width:"100%",height:"100%"},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"chart-line-gradieant",gradientTransform:"rotate(90)",children:[e.jsx("stop",{offset:"5%",stopColor:"#6200ff66"}),e.jsx("stop",{offset:"95%",stopColor:"#58007a33"})]})}),e.jsx("polygon",{className:"polygon",points:m.toString()})]}),o.map((u,n)=>e.jsx("div",{className:"bar",style:{height:`${u*.5}px`,width:"20px",left:`${2.5+100/o.length*n}%`,bottom:"0"},children:e.jsx("div",{className:"label",children:fe[(l.count+n)%12]})},n+"b"))]})}),e.jsxs("div",{className:"infos",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"left",children:"have graphic tools to follow your users' consumption trends"}),e.jsxs("div",{className:"piechart",ref:r,onMouseMove:u=>{const n=u.currentTarget.getBoundingClientRect();l.pie.y=u.clientY-(n.y+n.height/2),l.pie.x=u.clientX-(n.x+n.width/2),l.pie.touchDate=Date.now()},onTouchMove:u=>{const n=u.currentTarget.getBoundingClientRect();l.pie.y=u.touches[0].clientY-(n.y+n.height/2),l.pie.x=u.touches[0].clientX-(n.x+n.width/2),l.pie.touchDate=Date.now()},children:[D.map((u,n)=>{const p=D.reduce((w,j)=>w+j),g=D[n]/p*360;let x=0;return D.find((w,j)=>{if(j==n)return!0;x+=D[j]/p*360}),e.jsx("div",{className:"part "+(c.v==n?"active":""),style:{rotate:`${x}deg`,background:`conic-gradient(${be[n]} ${g}deg, transparent ${g}deg)`}},n)}),e.jsx("div",{className:"part",style:{pointerEvents:"none",background:"radial-gradient(circle, #0005 0% ,#0000 50% ) "}}),e.jsx("div",{className:"value "+(l.pie.touchDate?"touch":""),style:{top:`${100+l.pie.y}px`,left:`${65+l.pie.x}px`,display:c.v==null?"none":""},children:D[c.v||0]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"1"}),"Product visit statistics"]}),e.jsx("p",{children:"  you will have access to the number of visits per defined period, this will allow you to know the current trends of your customer"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"2"}),"Product order statistics"]}),e.jsx("p",{children:"  order statistics, to track your revenue"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{className:"count",children:"3"}),"Customer satisfaction statistics"]}),e.jsx("p",{children:"  your customers will leave you a product rating per order, this will allow you to judge user preferences"})]})]})]})]})}const b=class b{constructor(){E(this,"ring",null);E(this,"upDateFeatureMap");E(this,"modelPromise");E(this,"dependencies",{path:{THREE:"/three/build/three.module.js"},obj:{THREE:null,GLTFLoader:null}});E(this,"init",({THREE:s,GLTFLoader:a})=>{this.dependencies.obj.GLTFLoader=a,this.dependencies.obj.THREE=s;const r=(t,l,h)=>{let m=0;for(const f of t.children)m++,!(m==5||m==6)&&(f.material[l]=h)},c=(t,l,h)=>{[4,5].forEach(m=>{const f=t.children[m];f.material[l]=h})};let d=null;const o=t=>{d=t.scene.children[0].clone(),this.ring=new this.dependencies.obj.THREE.Object3D;const l=new this.dependencies.obj.THREE.Object3D;return l.add(d),this.ring.add(l),d.rotation.x=Math.PI*(85/180),d.scale.set(.1,.1,.1),c(d,"metalness",b.testMetal.metalness),c(d,"roughness",b.testMetal.roughness),c(d,"color",new this.dependencies.obj.THREE.Color(b.testMetal.color)),r(d,"metalness",b.testGem.metalness),r(d,"roughness",b.testGem.roughness),r(d,"color",new this.dependencies.obj.THREE.Color(b.testGem.color)),r(d,"reflectivity",b.testGem.reflectivity),r(d,"ior",b.testGem.ior),r(d,"thickness",b.testGem.thickness),r(d,"transmission",b.testGem.transmission),r(d,"clearcoat",b.testGem.clearcoat),r(d,"side",this.dependencies.obj.THREE.DoubleSide),this.ring};this.modelPromise=new Promise(t=>{new this.dependencies.obj.GLTFLoader().load(`${location.host.includes("localhost")?"http://localhost:3333":""}/fs/products_scene_dir_05e7dc8e-f409-46ae-91cc-6a125add8c5b/Ring_1/model.glb`,l=>{t(o(l))})}),this.upDateFeatureMap={metal:t=>{typeof t=="number"||typeof t=="string"||typeof t=="boolean"?typeof t=="string"&&c(d,"color",new this.dependencies.obj.THREE.Color(parseInt(t,16))):c(d,"color",t!=null&&t.value?new this.dependencies.obj.THREE.Color(parseInt(t.value,16)):b.testMetal.color)},gem:t=>{typeof t=="number"||typeof t=="string"||typeof t=="boolean"?typeof t=="string"&&r(d,"color",new this.dependencies.obj.THREE.Color(parseInt(t,16))):r(d,"color",t!=null&&t.value?new this.dependencies.obj.THREE.Color(parseInt(t.value,16)):b.testMetal.color)}}})}getDependencies(){return this.dependencies}async getModel(){return await this.modelPromise}showFeature(s){throw new Error("Method not implemented.")}updateFeature(s,a){var r,c;(c=(r=this.upDateFeatureMap)[s.name])==null||c.call(r,a)}};E(b,"testWorld",{scene:3359829,ground:83873694}),E(b,"testGem",{color:8705500,metalness:0,roughness:0,reflectivity:0,ior:1.1,thickness:30,clearcoat:0,transmission:1}),E(b,"testMetal",{color:12496174,metalness:1,roughness:0});let J=b;function we(){const[i]=v.useState({product3d:void 0,init(a){this.product3d=new Se(a)}}),s=v.useRef(null);return v.useEffect(()=>{var a;!i.product3d&&s.current?i.init(s.current):s.current&&((a=i.product3d)==null||a.setCanvas(s.current))},[s]),e.jsxs("div",{className:"product-3d",children:[e.jsxs("div",{className:"canvas-ctn",children:[e.jsx("canvas",{id:"home-canvas-product-3d",ref:s}),e.jsxs("div",{className:"features-ctn",children:[e.jsx("div",{className:"values"}),e.jsx("div",{className:"features"})]})]}),e.jsxs("div",{className:"infos",children:[e.jsx("h2",{children:"Choose the interface that suits you"}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"1"})," 3D or standard interface"]}),e.jsx("p",{className:"text",children:"We have two (2) types of interface, 3D and standard. each available in several ranges"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"2"})," How to have your store"]}),e.jsx("p",{className:"text",children:"you to create several stores with the same account. to create your store, fill in the required information (name, logo, etc.)"})]}),e.jsxs("div",{className:"info",children:[e.jsxs("h3",{className:"title",children:[e.jsx("span",{children:"3"})," Interface update"]}),e.jsx("p",{className:"text",children:"you will be notified of interface improvements. We continually update the platform to meet your expectations"})]})]})]})}class Se{constructor(s){E(this,"controls");E(this,"renderer");this.canvas=s;const a=s.parentElement;this.renderer=new ie({canvas:s,alpha:!0,premultipliedAlpha:!1,antialias:!0});const r=75,c=2,d=.1,o=10;this.renderer.domElement=s;const t=new ne(r,c,d,o);t.position.z=2.5,this.controls=new re(t,s),this.controls.enableDamping=!0,this.controls.maxDistance=2.5,this.controls.minDistance=1.8,this.controls.enablePan=!1,this.controls.dampingFactor=.03,this.controls.enabled=!0;const l=new ce,h=new J;h.init({GLTFLoader:oe,THREE:le}),h.getModel().then(g=>{new de().load("/src/World/images/royal_esplanade_1k.hdr",w=>{w.mapping=he;const j=g.children[0].children[0].children;for(const M of j)M.material.envMap=w}),l.add(g)});let m=0,f=0;function u(g){const x=a.getBoundingClientRect(),w=m!==x.width||f!==x.height;return w&&(f=x.height,m=x.width,g.setSize(x.width,x.height,!1)),w}const n=this;function p(g){if(u(n.renderer)){const x=n.renderer.domElement;t.aspect=x.width/x.height,t.updateProjectionMatrix()}n.controls.update(),n.renderer.render(l,t),requestAnimationFrame(p)}requestAnimationFrame(p)}setCanvas(s){this.canvas=s,this.controls.domElement=s,this.renderer.domElement=s}}const Ce=[{u:"products",i:"/src/res/add-product.png"},{u:"commands",i:"/src/res/shopping-bag.png"},{u:"users",i:"/src/res/customer.png"},{u:"interfaces",i:"/src/res/software-testing.png"},{u:"statistics",i:"/src/res/stats.png"}];let Ee=0;function ke(){const[i,s]=v.useState(1),[a,r]=v.useState();v.useEffect(()=>{if(!a)return r(setInterval(()=>{s(Ee++%4+1)},3e3)),()=>{clearInterval(a)}},[a]);const{check:c}=_();return c("home")&&e.jsxs("div",{className:"page-home",children:[e.jsx("div",{className:"back-home"}),e.jsxs("div",{className:"page-text",children:[e.jsxs("div",{className:"text-top",children:[e.jsxs("div",{className:"stores-count",children:[34," Stores"]}),e.jsxs("div",{className:"title",children:["Discover the ",e.jsx("span",{className:"shopping",children:"Shopping"})," Revolution in ",e.jsx("span",{className:"c-3d",children:"3D"})]}),e.jsx("div",{className:"sub-title",children:"Create, Personalize and Sell your Products presented in 3D and offer your customers a unique interactive experience."})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"subjects",children:Ce.map(d=>e.jsx("a",{href:`#home/${d.u}`,style:{background:C(d.i)}},d.u))}),e.jsxs("label",{htmlFor:"home-search",className:"search",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{id:"home-search",type:"text",placeholder:"Search"})]})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/products",icon:"/src/res/add-product.png",infos:[{icon:"/src/res/add-product.png",text:"add product 3D file"},{icon:"/src/res/add-product.png",text:"catalog, category, product, feature"}],text:"make your products accessible online, for your customers.",title:"Add new Products"}),e.jsx("div",{className:"cadre",children:e.jsx(we,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/commands",icon:"/src/res/shopping-bag.png",infos:[{icon:"/src/res/shopping-bag.png",text:"auto or manual validation"},{icon:"/src/res/shopping-bag.png",text:"cart, cancel, deliver, on_the_way, return "}],text:"view orders, track and adjust order status",title:"Manage customer orders"}),e.jsx("div",{className:"cadre"})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/users",icon:"/src/res/customer.png",infos:[{icon:"/src/res/customer.png",text:"chose the role of collaborator"},{icon:"/src/res/customer.png",text:"client, owner, collaborator, moderator"}],text:"follow your customers, add chat collaborators with everyone, organize your team",title:"Store user types"}),e.jsxs("div",{className:"cadre",children:[e.jsxs("div",{className:"p-access",children:[e.jsx("div",{className:"ctn-threejs"}),e.jsxs("div",{className:"infos",children:[e.jsx("div",{className:"title",children:"accessibility"}),e.jsxs("div",{className:"info "+(i==1?"open":""),children:[e.jsx("div",{className:"count",children:"1"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Accessible all over the world 24/7"}),e.jsx("p",{children:"You and your customers will be able to access the content of your store at any time."})]})]}),e.jsxs("div",{className:"info "+(i==2?"open":""),children:[e.jsx("div",{className:"count",children:"2"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"Mobile or desktop"}),e.jsx("p",{children:"The Sublymus platform is available on the web in Mobile, tablet and desktop versions"})]})]}),e.jsxs("div",{className:"info "+(i==4?"open":""),children:[e.jsx("div",{className:"count",children:"4"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"report issues to customer service"}),e.jsx("p",{children:"to help us improve the platform, report any problems you encounter."})]})]}),e.jsxs("div",{className:"info "+(i==3?"open":""),children:[e.jsx("div",{className:"count",children:"3"}),e.jsxs("div",{className:"text",children:[e.jsx("h3",{children:"quick correction and maintenance"}),e.jsx("p",{children:"We are attentive to your comments and we are working to correct or improve them as quickly as possible."})]})]})]}),e.jsx("div",{className:"access-world",children:e.jsx(ve,{})})]}),e.jsx("div",{className:"p-users",children:e.jsx(je,{})})]})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/interfaces",icon:"/src/res/software-testing.png",infos:[{icon:"/src/res/software-testing.png",text:"automatically updates store information"},{icon:"/src/res/software-testing.png",text:"compatibility with all stores"}],text:"the platform has several interfaces to best meet your needs",title:"Change your store interface"}),e.jsx("div",{className:"cadre",children:e.jsx(Ne,{})})]}),e.jsxs("div",{className:"prettier",children:[e.jsx(O,{id:"home/statistics",icon:"/src/res/stats.png",infos:[{icon:"/src/res/stats.png",text:"Statistical analysis of data"},{icon:"/src/res/stats.png",text:"visit, command, yield, period"}],text:"increase your sales using statistical data from your store",title:"Statistical table"}),e.jsx("div",{className:"cadre",children:e.jsx(ye,{})})]}),e.jsx("footer",{})]})}function De(){var L;const[i]=v.useState(me()),{current:s,setAbsPath:a,navBack:r,json:c,pathList:d}=_(),{createStore:o,deleteStore:t,editStore:l,selectedStore:h,openChild:m,setStoreById:f,owner:u,exist:n}=y(),[p,g]=v.useState(h||{}),[x,w]=v.useState(h?{url:(s("edit_store")||"")&&`${h.logo[0]}`}:null),[j,M]=v.useState(h?{url:(s("edit_store")||"")&&`${(L=h.banners)==null?void 0:L[0]}`}:null),H=X().width<1050?"wrap":"",[I,A]=v.useState(""),[W,G]=v.useState(!1);v.useEffect(()=>{setTimeout(()=>{var N;h&&s("edit_store")&&(g(h),M({url:`${h.banners[0]}`}),w({url:`${(N=h.logo)==null?void 0:N[0]}`}))}),h||(g({}),w(null),M(null))},[h]),v.useEffect(()=>{u&&(c!=null&&c.store_id)&&f(c.store_id)},[c,u]),v.useEffect(()=>{A("")},[d]);const F=s("edit_store"),z=(j==null?void 0:j.url)&&(x==null?void 0:x.url)&&p.name,q=h;return F&&!h?e.jsx("div",{className:"store-select-btn",onClick:()=>{a(["store_list"])},children:"Select Store Before Edition"}):s("new_store","edit_store")&&e.jsxs("div",{className:"page-new-store",children:[h&&e.jsxs("div",{className:"editor-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>r()}),e.jsx(ue,{terme:"dark",deteleKey:h.id,mode:"delete",onDelete:()=>{t(h.id).then(N=>{N&&a(["store_list"])})},onCreate:()=>{},title:"Store Information"}),e.jsxs("div",{className:"open-opt",children:[e.jsx("div",{className:"btn-dash btn demo no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${R}/demo/${h.name}`)},children:"Open Demo Store"}),e.jsx("div",{className:"btn-dash btn no-selectable",onClick:()=>{localStorage.setItem("store",JSON.stringify(h)),window.open(`${R}/${h==null?void 0:h.name}/dash`)},children:"Open Dashboard"})]})]}),e.jsxs("div",{className:"center-content "+H,children:[e.jsx("div",{className:"center-left",children:e.jsxs("div",{className:"store "+(h?"anim":"void"),children:[e.jsxs("div",{className:"banner "+(j!=null&&j.url?"":"void"),style:j!=null&&j.url?{background:C((j==null?void 0:j.url)||"")}:{},children:[e.jsxs("div",{className:"img-options",children:[(j==null?void 0:j.url)&&e.jsx("div",{className:"open",onClick:()=>{m(e.jsx("div",{className:"big-img",onClick:()=>m(void 0,!1),children:e.jsx("div",{className:"img",style:{background:C((j==null?void 0:j.url)||"")}})}),!0,"#3455")}}),e.jsx("input",{type:"file",accept:"image/*",id:i+"banner",style:{display:"none"},onChange:N=>{var T;const S=(T=N.currentTarget.files)==null?void 0:T[0];S&&M({file:S,url:URL.createObjectURL(S)})}}),e.jsx("label",{htmlFor:i+"banner",className:"edit"})]}),e.jsxs("div",{className:"more",children:[e.jsxs("div",{className:"logo "+(x!=null&&x.url?"":"void"),style:x!=null&&x.url?{background:C((x==null?void 0:x.url)||"")}:{},onClick:N=>{N.currentTarget==N.target&&x!=null&&x.url&&m(e.jsx("div",{className:"big-img",onClick:()=>m(void 0,!1),children:e.jsx("div",{className:"img",style:{background:C((x==null?void 0:x.url)||"")}})}),!0,"#3455")},children:[e.jsx("input",{type:"file",accept:"image/*",id:i+"logo",style:{display:"none"},onChange:N=>{var T;const S=(T=N.currentTarget.files)==null?void 0:T[0];S&&w({file:S,url:URL.createObjectURL(S)})}}),e.jsx("label",{htmlFor:i+"logo",className:"edit"})]}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:p.name}),e.jsx("div",{className:"owner-email",children:p.store_email}),e.jsx("div",{className:"id",children:p.id&&`#${p.id.split("-")[0]}`})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:h?42:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:h?205:0}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:h?9:0}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:p.website}),e.jsx("div",{className:"phone",children:p.phone})]})]}),h&&e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(q)),window.open(`${R}/${p.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(q)),window.open(`${R}/${p.name}/dash`)},children:"DASH"})]})]})]})}),e.jsxs("div",{className:"center-right",children:[e.jsxs("div",{className:"imgs",children:[e.jsxs("label",{className:j!=null&&j.url?"available":"no-available",htmlFor:i+"banner",children:["Banner ",e.jsx("span",{})]}),e.jsxs("label",{className:x!=null&&x.url?"available":"no-available",htmlFor:i+"logo",children:["Logo ",e.jsx("span",{})]})]}),F&&e.jsxs("div",{className:"id",children:[e.jsx("label",{htmlFor:i+"id",style:{color:"#fff9"},children:"Id"}),e.jsx("input",{type:"text",id:i+"id",value:p.id||"",style:{color:"#fff9",borderColor:"#fff9"},placeholder:"Name"})]}),e.jsxs("div",{className:"name",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"name",children:"Store Name"}),e.jsxs("div",{className:"available",style:{display:I=="yes"?"flex":"none"},children:[e.jsx("span",{})," available"]}),e.jsxs("div",{className:"not-available",style:{display:I=="no"?"flex":"none"},children:[e.jsx("span",{})," not available"]})]}),e.jsx("input",{type:"text",id:i+"name",value:p.name||"",placeholder:"Name",onChange:N=>{var T;const S=N.currentTarget.value;S.trim().length<3?A("no"):(T=n(S))==null||T.then(B=>{A(B?"no":"yes"),console.log(S,I,B,B?"no":"yes")}),g({...p,name:S})}})]}),e.jsxs("div",{className:"phone",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"phone",children:"Phone"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:i+"phone",value:p.phone||"",placeholder:"Phone",onChange:N=>{g({...p,phone:N.currentTarget.value})}})]}),e.jsxs("div",{className:"store_email",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"store_email",children:"Store Email"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"email",id:i+"store_email",value:p.store_email||"",placeholder:"Store email",onChange:N=>{g({...p,store_email:N.currentTarget.value})}})]}),e.jsxs("div",{className:"website",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"website",children:"Web Site"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:i+"website",value:p.website||"",placeholder:"Web Site",onChange:N=>{g({...p,website:N.currentTarget.value})}})]}),e.jsxs("div",{className:"desciption",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"desciption",children:"Description"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:i+"description",value:p.description||"",placeholder:"Description",onChange:N=>{g({...p,description:N.currentTarget.value})}})]}),e.jsxs("div",{className:"address",children:[e.jsxs("div",{className:"top",children:[e.jsx("label",{htmlFor:i+"address",children:"Address"}),e.jsx("div",{className:"optional",children:"(optional)"})]}),e.jsx("input",{type:"text",id:i+"address",value:p.address,placeholder:"Address",onChange:N=>{g({...p,address:N.currentTarget.value})}})]}),e.jsx("div",{className:"btm",children:e.jsx("div",{className:"btn no-selectable",style:{background:z?"":"#345"},onClick:()=>{!z||W||(G(!0),F?h&&l({...p,banners:j,logo:x,store_id:h==null?void 0:h.id}).then(N=>{G(!1),N&&a(["store_list"])}):o({...p,banners:j,logo:x}).then(N=>{setTimeout(()=>{G(!1)},100),N!=null&&N.id&&N&&a(["store_list"])}))},children:W?e.jsx("div",{className:"loading"}):`${F?"Edit":"Create"} Store`})})]})]})]})}function $e(){const{check:i,current:s,setAbsPath:a,qs:r,navBack:c,pathList:d}=_(),{owner:o,stores:t,owner_stores:l,setSelectedStore:h}=y();return v.useEffect(()=>{o&&i("store_list")&&l({text:""})},[d,o]),s("store_list")&&e.jsxs("div",{className:"stores-page",children:[e.jsxs("div",{className:"top-top",children:[e.jsx("div",{className:"nav-back",onClick:()=>c()}),e.jsxs("div",{className:"sreach-stores",children:[e.jsxs("div",{className:"ctn",children:[e.jsx("div",{className:"icon"}),e.jsx("input",{type:"text",placeholder:"Search by #id, name, email",name:"sreach-stores",id:"sreach-stores",onChange:m=>{l({text:m.currentTarget.value})}})]}),o&&e.jsxs("div",{className:"new-btn no-selectable",onClick:()=>{h(void 0),a(["new_store"])},children:[e.jsx("div",{className:"icon"}),e.jsx("div",{className:"label",children:"Add New Store"})]})]})]}),e.jsx("div",{className:"stores",ref:Z,children:t==null?void 0:t.list.map(m=>e.jsxs("div",{className:"store",children:[e.jsxs("div",{className:"banner",style:{background:C(m.banners[0])},onClick:()=>{h(m),r({store_id:m.id}).setAbsPath(["edit_store"])},children:[e.jsx("div",{className:"edit"}),e.jsxs("div",{className:"more",children:[e.jsx("div",{className:"logo",style:{background:C(m.logo[0])}}),e.jsxs("div",{className:"text",children:[e.jsx("div",{className:"name",children:m.name}),e.jsx("div",{className:"owner-email",children:m.store_email}),e.jsxs("div",{className:"id",children:["#",m.id.split("-")[0]]})]})]})]}),e.jsxs("div",{className:"btm",children:[e.jsxs("div",{className:"info",children:[e.jsxs("div",{className:"stat",children:[e.jsxs("div",{className:"products",children:[e.jsx("div",{className:"value",children:"42"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"clients",children:[e.jsx("div",{className:"value",children:"205"}),e.jsx("div",{className:"icon"})]}),e.jsxs("div",{className:"collaborators",children:[e.jsx("div",{className:"value",children:"9"}),e.jsx("div",{className:"icon"})]})]}),e.jsxs("div",{className:"other",children:[e.jsx("div",{className:"site",children:m.website}),e.jsx("div",{className:"phone",children:m.phone})]})]}),e.jsxs("div",{className:"options",children:[e.jsx("div",{className:"open-store",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${R}/${m.name}`)},children:"STORE"}),e.jsx("div",{className:"open-dash",onClick:()=>{localStorage.setItem("store",JSON.stringify(m)),window.open(`${R}/${m.name}/dash`)},children:"DASH"})]})]})]}))})]})}const U=[{u:"home",n:"Home",i:"/src/res/application.png"},{u:"store_list",n:"Stores",i:"/src/res/store.png"},{u:"tutorial",n:"Tutorial",i:"/src/res/catalog.png"},{u:"pricing",n:"Pricing",i:"/src/res/shopping-cart.png"},{u:"contact",n:"Contact us",i:"/src/res/services.png"},{u:"updates",n:"Updates",i:"/src/res/jigsaw.png"},{u:"forum",n:"Forum",i:"/src/res/multiple-users-silhouette.png"}];function Te(){var u;const{setAbsPath:i,pathList:s}=_(),[a,r]=v.useState(s[1]||"home"),[c,d]=v.useState(!1),[o,t]=v.useState(!1),{owner:l,createOwner:h}=y(),m=X(),f=n=>{i([n]),r(n)};return v.useEffect(()=>{r(s[1]||"home")},[s]),v.useEffect(()=>{window.addEventListener("click",()=>{const n=document.querySelector(".top-bar .more-navs ul");(n==null?void 0:n.className)==""&&t(!1)})},[]),e.jsxs("div",{className:"top-bar",ref:ee(80,".web"),children:[e.jsxs("div",{className:"top-bar-ctn",children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"options",onClick:()=>{}}),e.jsx("a",{href:`${R}/web#home`,className:"logo-ctn",onClick:()=>{f("home")},children:e.jsx("div",{className:"icon"})})]}),e.jsx("ul",{className:"top-bar-center",children:U.map((n,p)=>p*200<m.width-400?e.jsxs("li",{className:a==n.u?"active":"",onClick:()=>f(n.u),children:[e.jsx("span",{style:{background:C(n.i,"80%")}}),n.n]},p):null)}),e.jsx("div",{className:"ctn-icon",onClick:n=>{n.preventDefault(),n.stopPropagation(),t(!o)},children:e.jsx("div",{className:"icon"})}),l?e.jsx("div",{className:"profile",style:{background:`no-repeat center/cover url(${(u=l==null?void 0:l.photos[0])!=null&&u.startsWith("/")?$:""}${l==null?void 0:l.photos}),#bbb`}}):e.jsx("div",{className:"login",onClick:()=>h(),children:"Se connecter"})]}),e.jsx("div",{className:"more-navs",onClick:n=>{n.preventDefault(),n.stopPropagation()},children:e.jsxs("ul",{className:o?"":"close",children:[U.map((n,p)=>p*200>=m.width-400?e.jsxs("li",{className:a==n.u?"active":"",onClick:()=>f(n.u),children:[e.jsx("span",{style:{background:C(n.i,"80%")}}),n.n]},p):null),e.jsxs("li",{className:a=="mode-lite"?"active":"",onClick:()=>{d(!c)},children:[e.jsx("span",{style:{background:C("/src/res/mark.png","70%")}}),c?"Lite mode off":"Lite mode on"]})]})})]})}function _e(){const{tryToken:i,blur:s,currentChild:a,openChild:r,back_color:c}=y(),{pathList:d}=_();return v.useEffect(()=>{r(void 0)},[d]),v.useEffect(()=>{i()},[]),e.jsxs("div",{className:"web unselectable",children:[e.jsxs("div",{className:"web-ctn",style:{filter:s?"blur(10px)":""},children:[e.jsx("div",{className:"background"}),e.jsx(Te,{}),e.jsxs("div",{className:"page-ctn",children:[e.jsx(ke,{}),e.jsx(De,{}),e.jsx($e,{})]})]}),a&&e.jsx("div",{className:"child-viewer",onContextMenu:o=>{o.preventDefault(),r(void 0)},children:e.jsx("div",{className:"child-viewer-ctn",style:{background:c},onClick:()=>{r(void 0)},onContextMenu:o=>{o.preventDefault(),r(void 0)},children:a})})]})}const Me=i=>i,Ie=Me(e.jsx(ae.StrictMode,{children:e.jsx(_e,{})}));export{Ie as WebView};
